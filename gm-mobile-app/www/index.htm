<!DOCTYPE html>

<html>
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>gmMobileApp</title>
    <link rel="stylesheet" href="/js/3.5.0/build/cssreset/cssreset.css" />
    <link rel="stylesheet" href="/js/3.5.0/build/cssbase/cssbase.css" />
    <link rel="stylesheet" href="/js/3.5.0/build/cssfonts/cssfonts.css" />
    <link rel="stylesheet" href="/js/3.5.0/build/cssbutton/cssbutton.css" />
    <link rel="stylesheet" href="/js/3.5.0/build/cssgrids/cssgrids.css" />
    <link rel="stylesheet" href="/js/3.5.0/build/app-transitions-css/app-transitions-css-min.css" />
    <link rel="stylesheet" href="/css/gmmobileapp.css" />
    <script type="text/javascript">

    var stations = [{"gemCode":"frxab","code":"ABB","name":"Abbeville"},{"gemCode":"frmlw","code":"RYT","name":"A\u00e9roport CDG 2 TGV"},{"gemCode":"fragf","code":"AGN","name":"Agen"},{"gemCode":"frqxb","code":"AXP","name":"Aix en Provence"},{"gemCode":"fraie","code":"AXV","name":"Aix en Provence TGV"},{"gemCode":"frxai","code":"AIX","name":"Aix les Bains le Revard"},{"gemCode":"frxav","code":"ALV","name":"Albertville"},{"gemCode":"frqam","code":"AMS","name":"Amiens"},{"gemCode":"fracl","code":"ASL","name":"Angers St Laud"},{"gemCode":"frncy","code":"ANY","name":"Annecy"},{"gemCode":"frxat","code":"ATB","name":"Antibes"},{"gemCode":"frhza","code":"ARS","name":"Arles"},{"gemCode":"frqrv","code":"ARR","name":"Arras"},{"gemCode":"frxuy","code":"ARY","name":"Auray"},{"gemCode":"frasg","code":"AUX","name":"Auxerre Saint Gervais"},{"gemCode":"fraes","code":"AVI","name":"Avignon Centre"},{"gemCode":"fravg","code":"COU","name":"Avignon TGV"},{"gemCode":"frxbd","code":"BLD","name":"Bar le Duc"},{"gemCode":"frxby","code":"BYE","name":"Bayonne"},{"gemCode":"frxbv","code":"BEA","name":"Beaune"},{"gemCode":"frbor","code":"BFT","name":"Belfort"},{"gemCode":"frxbf","code":"BGD","name":"Bellegarde"},{"gemCode":"frabg","code":"BNV","name":"Besan\u00e7on Viotte"},{"gemCode":"frxbh","code":"BET","name":"B\u00e9thune"},{"gemCode":"frbzr","code":"BZS","name":"B\u00e9ziers"},{"gemCode":"frxbq","code":"BLO","name":"Blois"},{"gemCode":"frboj","code":"BXJ","name":"Bordeaux St-Jean"},{"gemCode":"fraeb","code":"BEM","name":"Boulogne Ville"},{"gemCode":"frxbk","code":"BGB","name":"Bourg en Bresse"},{"gemCode":"frbou","code":"BGS","name":"Bourges"},{"gemCode":"frqbm","code":"BSM","name":"Bourg St Maurice"},{"gemCode":"frbes","code":"BRT","name":"Brest"},{"gemCode":"frbve","code":"BLG","name":"Brive La Gaillarde"},{"gemCode":"frcfr","code":"CAE","name":"Caen"},{"gemCode":"frzao","code":"CAH","name":"Cahors"},{"gemCode":"frsth","code":"FHS","name":"Calais Frethun"},{"gemCode":"fraea","code":"CSV","name":"Calais Ville"},{"gemCode":"frjca","code":"CAN","name":"Cannes"},{"gemCode":"frccf","code":"CNE","name":"Carcassonne"},{"gemCode":"frxcr","code":"CMP","name":"Chalons en Champagne"},{"gemCode":"frxcd","code":"CSS","name":"Chalon sur Sa\u00f4ne"},{"gemCode":"frcmf","code":"CRL","name":"Chamb\u00e9ry Challes Les Eaux"},{"gemCode":"freah","code":"CGV","name":"Champagne Ardenne"},{"gemCode":"frxcz","code":"CMZ","name":"Charleville M\u00e9zi\u00e8res"},{"gemCode":"frqtj","code":"CHH","name":"Chartres"},{"gemCode":"frchr","code":"CTX","name":"Ch\u00e2teauroux"},{"gemCode":"frxcy","code":"CTH","name":"Ch\u00e2teau Thierry"},{"gemCode":"frxcx","code":"CRT","name":"Ch\u00e2tellerault"},{"gemCode":"frcfe","code":"CLF","name":"Clermont Ferrand"},{"gemCode":"fraej","code":"CMR","name":"Colmar"},{"gemCode":"frxcp","code":"CPE","name":"Compi\u00e8gne"},{"gemCode":"frcsf","code":"CLH","name":"Creil"},{"gemCode":"fracg","code":"DAX","name":"Dax"},{"gemCode":"fraba","code":"DJV","name":"Dijon Ville"},{"gemCode":"frace","code":"DLE","name":"Dole Ville"},{"gemCode":"frxdn","code":"DOI","name":"Douai"},{"gemCode":"frxdr","code":"DRX","name":"Dreux"},{"gemCode":"fradi","code":"DKQ","name":"Dunkerque"},{"gemCode":"frxep","code":"EPR","name":"Epernay"},{"gemCode":"frepl","code":"ELP","name":"Epinal"},{"gemCode":"frxeb","code":"EVI","name":"Evian les Bains"},{"gemCode":"frevx","code":"EVX","name":"Evreux Normandie"},{"gemCode":"frbqt","code":"FOB","name":"Forbach"},{"gemCode":"frtgo","code":"FTU","name":"Futuroscope"},{"gemCode":"frgfr","code":"GRV","name":"Granville"},{"gemCode":"frgnb","code":"GRE","name":"Grenoble"},{"gemCode":"fraef","code":"HED","name":"Hendaye"},{"gemCode":"frjee","code":"LBE","name":"La Baule Escoublac"},{"gemCode":"frlrh","code":"LRE","name":"La Rochelle Ville"},{"gemCode":"frisi","code":"LAR","name":"Laroche Migennes"},{"gemCode":"frxro","code":"LRY","name":"La Roche sur Yon"},{"gemCode":"fracr","code":"LAL","name":"Laval"},{"gemCode":"frxcc","code":"LCM","name":"Le Creusot TGV"},{"gemCode":"fraez","code":"LHA","name":"Le Havre"},{"gemCode":"fraet","code":"LEN","name":"Le Mans"},{"gemCode":"frxle","code":"LNS","name":"Lens"},{"gemCode":"frxrs","code":"LAC","name":"Les Arcs Draguignan"},{"gemCode":"frlab","code":"LAB","name":"Les Aubrais Orl\u00e9ans"},{"gemCode":"frxlr","code":"LIB","name":"Libourne"},{"gemCode":"frlle","code":"LEW","name":"Lille Europe"},{"gemCode":"fradj","code":"LLF","name":"Lille Flandres"},{"gemCode":"fragq","code":"LIM","name":"Limoges B\u00e9n\u00e9dictins"},{"gemCode":"frxlx","code":"LIS","name":"Lisieux"},{"gemCode":"frcql","code":"LUA","name":"Longueau"},{"gemCode":"frlwy","code":"LWY","name":"Longwy"},{"gemCode":"frxll","code":"LLS","name":"Lons le Saunier"},{"gemCode":"frlrt","code":"LRT","name":"Lorient"},{"gemCode":"fream","code":"TGL","name":"Lorraine TGV"},{"gemCode":"frlde","code":"LDS","name":"Lourdes"},{"gemCode":"frlne","code":"LNE","name":"Lun\u00e9ville"},{"gemCode":"frlpd","code":"LYD","name":"Lyon Part Dieu"},{"gemCode":"frlpe","code":"LPR","name":"Lyon Perrache"},{"gemCode":"frjdq","code":"SXA","name":"Lyon St Exup\u00e9ry TGV"},{"gemCode":"frmlt","code":"MLH","name":"Macon Loche TGV"},{"gemCode":"frhgu","code":"MAC","name":"Macon Ville"},{"gemCode":"frmlv","code":"MLV","name":"Marne la Vall\u00e9e Chessy"},{"gemCode":"frmsc","code":"MSC","name":"Marseille St Charles"},{"gemCode":"frdju","code":"MPW","name":"Massy TGV"},{"gemCode":"frxmt","code":"MEN","name":"Menton"},{"gemCode":"frade","code":"MZE","name":"Metz Ville"},{"gemCode":"freaj","code":"TGM","name":"Meuse TGV"},{"gemCode":"frmaz","code":"MAS","name":"Miramas"},{"gemCode":"fragr","code":"MOD","name":"Modane"},{"gemCode":"frxmm","code":"MNA","name":"Monaco Monte Carlo"},{"gemCode":"frxmw","code":"MBN","name":"Montauban Ville Bourbon"},{"gemCode":"frxmf","code":"MBD","name":"Montb\u00e9liard"},{"gemCode":"frxmj","code":"MMR","name":"Mont de Marsan"},{"gemCode":"frxmk","code":"MTR","name":"Mont\u00e9limar"},{"gemCode":"frmcu","code":"MLN","name":"Montlu\u00e7on Ville"},{"gemCode":"frmpl","code":"MPL","name":"Montpellier St Roch"},{"gemCode":"frxmu","code":"MSA","name":"Moulins Sur Allier"},{"gemCode":"frqmu","code":"MOS","name":"Moutiers Salins Brides-les-Bains"},{"gemCode":"fraek","code":"MSE","name":"Mulhouse Ville"},{"gemCode":"frenc","code":"NCY","name":"Nancy Ville"},{"gemCode":"frnte","code":"NTS","name":"Nantes"},{"gemCode":"frxna","code":"NBN","name":"Narbonne"},{"gemCode":"frnvs","code":"NVS","name":"Nevers"},{"gemCode":"frnic","code":"NIC","name":"Nice Ville"},{"gemCode":"frfni","code":"NMS","name":"N\u00eemes"},{"gemCode":"frnit","code":"NRT","name":"Niort"},{"gemCode":"frafk","code":"ORL","name":"Orl\u00e9ans"},{"gemCode":"frpaz","code":"PAZ","name":"Paris Austerlitz"},{"gemCode":"frpbe","code":"PBY","name":"Paris Bercy"},{"gemCode":"frpst","code":"PES","name":"Paris Est"},{"gemCode":"frply","code":"PLY","name":"Paris Gare de Lyon"},{"gemCode":"frpmo","code":"PMP","name":"Paris Montparnasse 1 Et 2"},{"gemCode":"frpno","code":"PNO","name":"Paris Nord"},{"gemCode":"frpsl","code":"PSL","name":"Paris St Lazare"},{"gemCode":"fraee","code":"PAU","name":"Pau"},{"gemCode":"frabf","code":"PXR","name":"P\u00e9rigueux"},{"gemCode":"frpgf","code":"PPN","name":"Perpignan"},{"gemCode":"frpis","code":"PST","name":"Poitiers"},{"gemCode":"fruip","code":"QPR","name":"Quimper"},{"gemCode":"frxrn","code":"RDN","name":"Redon"},{"gemCode":"frrhe","code":"RMS","name":"Reims"},{"gemCode":"frrns","code":"RES","name":"Rennes"},{"gemCode":"frurd","code":"RRD","name":"Rouen Rive Droite"},{"gemCode":"frxtd","code":"STD","name":"Saint Di\u00e9 des Vosges"},{"gemCode":"frxgf","code":"SGB","name":"Saint Gervais les bains - Le Fayet"},{"gemCode":"frsne","code":"SNE","name":"Saverne"},{"gemCode":"frxsy","code":"STE","name":"S\u00e8te"},{"gemCode":"frsbk","code":"SBC","name":"St Brieuc"},{"gemCode":"frhhd","code":"SEN","name":"St Etienne Chateaucreux"},{"gemCode":"frxjz","code":"SJZ","name":"St Jean de Luz Ciboure"},{"gemCode":"frsnr","code":"SNA","name":"St Nazaire"},{"gemCode":"frxsh","code":"SPC","name":"St Pierre des Corps"},{"gemCode":"frxsj","code":"SQT","name":"St Quentin"},{"gemCode":"frxsk","code":"SRV","name":"St Rapha\u00ebl Valescure"},{"gemCode":"fraeg","code":"STG","name":"Strasbourg"},{"gemCode":"frxtb","code":"TBS","name":"Tarbes"},{"gemCode":"frthp","code":"HPI","name":"TGV Haute Picardie"},{"gemCode":"frxth","code":"THL","name":"Thionville"},{"gemCode":"frtln","code":"TLN","name":"Toulon"},{"gemCode":"frxyt","code":"TSE","name":"Toulouse Matabiau"},{"gemCode":"fradm","code":"TRG","name":"Tourcoing"},{"gemCode":"frafw","code":"TRS","name":"Tours"},{"gemCode":"frtrd","code":"TDE","name":"Trouville Deauville"},{"gemCode":"frqyr","code":"TOY","name":"Troyes"},{"gemCode":"frvdr","code":"VDR","name":"Val De Reuil"},{"gemCode":"frvla","code":"VAL","name":"Valence TGV"},{"gemCode":"frvaf","code":"VCE","name":"Valence Ville"},{"gemCode":"frxvs","code":"VSN","name":"Valenciennes"},{"gemCode":"frvne","code":"VAN","name":"Vannes"},{"gemCode":"frdqc","code":"VNO","name":"Vernon"},{"gemCode":"frxvo","code":"VES","name":"Vesoul"},{"gemCode":"frvhy","code":"VHY","name":"Vichy"},{"gemCode":"frxvz","code":"VER","name":"Vierzon Ville"}]
    </script>
</head>
<body>
    <script id="t-home" type="text/x-handlebars-template">
        <header>
            <h1>Gare mobile</h1>
        </header>
        <h2>Gare favorites</h2>
        {{#if stations}}
        <ul class="gm-station-list">
            {{#each stations}}
            <li>
                {{> stationview}}           
            </li>
            {{/each}}
        </ul>
        {{/if}}
        <p class="help"{{#if stations.length}} style="display:none;"{{/if}}>Aucune gare favorite</p>

        <h2>Ajouter des gares favorites</h2>
        <section class="gm-search">
            <p>
                <input type="text" placeholder="Nom ou partie du nom de la gare" value="" id="search-station" />
            </p>
            <p>
                <button class="gm-geosearch yui3-button yui3-button-primary">À proximité</button>
                <button class="gm-search yui3-button yui3-button-primary">Recherche</button>
            </p>
        </section>
    </script>

    <script id="t-search" type="text/x-handlebars-template">
        <header>
            {{> backhome}}
            <h1>Recherche "{{search}}"</h1>
        </header>
        <h2>Résultats</h2>
        <ul class="gm-station-list">
            {{#each results}}
            <li>
                {{> stationview}}           
            </li>
            {{/each}}
        </ul>
    </script>

    <script id="t-departures" type="text/x-handlebars-template">
        <header>
            {{> backhome}}
            <h1>Départs de {{station.name}}</h1>
        </header>
        <p class="gm-toolbar">
            <a href="#/departures/{{station.code}}" class="yui3-button">Actualiser</button><a href="#/arrivals/{{station.code}}" class="yui3-button">Voir les arrivées &raquo;</a>
        </p>
        <table summary="Prochains départs de {{station.name}}">
            {{> trainviewheader}}
            {{#each trains}}
                {{> trainview}}
            {{/each}}
        </table>
    </script>

    <script id="t-arrivals" type="text/x-handlebars-template">
        <header>
            {{> backhome}}
            <h1>Arrivées à {{station.name}}</h1>
        </header>
        <p class="gm-toolbar">
            <a href="#/arrivals/{{station.code}}" class="yui3-button">↻ Actualiser</button><a href="#/departures/{{station.code}}" class="yui3-button">Voir les départs &raquo;</a>
        </p>
        <table summary="Prochaines arrivées à {{station.name}}">
            {{> trainviewheader}}
            {{#each trains}}
                {{> trainview}}
            {{/each}}
        </table>
    </script>


    <script id="t-loading" type="text/x-handlebars-template">
        <header>
            {{> backhome}}
            <h1>Chargement en cours...</h1>
        </header>
        <p class="gm-loader">Chargement</p>
    </script>

    <!-- partials -->
    <script class="gm-t-partial" type="text/x-handlebars-template" data-name="trainview">
        <tr{{#if details}} class="late"{{/if}}>
            <td class="c">{{type}}</td>
            <td>{{destination}}</td>
            <td class="c">{{time}}</td>
            <td class="c">{{platform}}</td>
            <td class="details">{{details}}</td>
        </tr>
    </script>
    <script class="gm-t-partial" type="text/x-handlebars-template" data-name="backhome">
    <a href="#/" class="back-home">↰</a>
    </script>
    <script class="gm-t-partial" type="text/x-handlebars-template" data-name="trainviewheader">
        <tr>
            <th>Type</th>
            <th>Destination</th>
            <th>Heure</th>
            <th>Voie</th>
            <th>Retard</th>
        </tr>
    </script>
    <script class="gm-t-partial" type="text/x-handlebars-template" data-name="stationview">
        <div class="gm-action">
            <a class="yui3-button" href="#/departures/{{code}}"><abbr title="Départs"><span>Dép.</span></abbr> &raquo;</a>
            <a class="yui3-button" href="#/arrivals/{{code}}"><abbr title="Arrivées"><span>Arr.</span></abbr> &raquo;</a>
        </div>
        <a class="yui3-button gm-bookmark{{#if bookmarked}} bookmarked{{/if}}" href="#" data-station-code="{{code}}">★</a>
        <strong class="gm-name">{{name}}</strong>
    </script>

    <script src="/js/3.5.0/build/yui/yui-min.js"></script>
    <script src="/js/gmmobileapp.js"></script>
    <script>
    YUI({
        debug:true,
        //combine:true
    }).use('gmmobileapp', function (Y) {


        var app = new Y.GMMobileApp({
            serverRouting: false,
            viewContainer: '#gmmobile',
            container: '#gmmobile',
            transitions: true,
            stations: stations
        });

        app.render().dispatch();
    });
    </script>
    <div id="gmmobile"></div>

</body>
</html>

YUI.add("event-key",function(h){var i=h.Lang.trim,g={KEY_MAP:{enter:13,esc:27,backspace:8,tab:9,pageup:33,pagedown:34},_typeRE:/^(up|down|press):/,_keysRE:/^(?:up|down|press):|\+(alt|ctrl|meta|shift)/g,processArgs:function(c){var b=c.splice(3,1)[0],c=h.Array.hash(b.match(/\+(?:alt|ctrl|meta|shift)\b/g)||[]),d={type:this._typeRE.test(b)?RegExp.$1:null,mods:c,keys:null},b=b.replace(this._keysRE,""),a,e,f;if(b){b=b.split(",");d.keys={};for(f=b.length-1;0<=f;--f)if(a=i(b[f]))+a==a?d.keys[a]=c:(e=a.toLowerCase(),
this.KEY_MAP[e]?(d.keys[this.KEY_MAP[e]]=c,d.type||(d.type="down")):(a=a.charAt(0),e=a.toUpperCase(),c["+shift"]&&(a=e),d.keys[a.charCodeAt(0)]=a===e?h.merge(c,{"+shift":!0}):c))}d.type||(d.type="press");return d},on:function(c,b,d,a){var e=b._extra,f=e.keys;b._detach=c[a?"delegate":"on"]("key"+e.type,function(b){var a=f?f[b.which]:e.mods;a&&(!a["+alt"]||a["+alt"]&&b.altKey)&&(!a["+ctrl"]||a["+ctrl"]&&b.ctrlKey)&&(!a["+meta"]||a["+meta"]&&b.metaKey)&&(!a["+shift"]||a["+shift"]&&b.shiftKey)&&d.fire(b)},
a)},detach:function(c,b){b._detach.detach()}};g.delegate=g.on;g.detachDelegate=g.detach;h.Event.define("key",g,!0)},"3.5.1",{requires:["event-synthetic"]});

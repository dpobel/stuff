YUI.add("file-flash",function(b){var c=function(a){c.superclass.constructor.apply(this,arguments)};b.extend(c,b.Base,{initializer:function(){this.get("id")||this._set("id",b.guid("file"))},_swfEventHandler:function(a){if(a.id===this.get("id"))switch(a.type){case "uploadstart":this.fire("uploadstart",{uploader:this.get("uploader")});break;case "uploadprogress":this.fire("uploadprogress",{originEvent:a,bytesLoaded:a.bytesLoaded,bytesTotal:a.bytesTotal,percentLoaded:Math.min(100,Math.round(1E4*a.bytesLoaded/
a.bytesTotal)/100)});this._set("bytesUploaded",a.bytesLoaded);break;case "uploadcomplete":this.fire("uploadfinished",{originEvent:a});break;case "uploadcompletedata":this.fire("uploadcomplete",{originEvent:a,data:a.data});break;case "uploadcancel":this.fire("uploadcancel",{originEvent:a});break;case "uploaderror":this.fire("uploaderror",{originEvent:a,statusText:a.text,status:a.status})}},startUpload:function(a,b,c){if(this.get("uploader")){var d=this.get("uploader"),c=c||"Filedata",e=this.get("id"),
b=b||null;this._set("bytesUploaded",0);d.on("uploadstart",this._swfEventHandler,this);d.on("uploadprogress",this._swfEventHandler,this);d.on("uploadcomplete",this._swfEventHandler,this);d.on("uploadcompletedata",this._swfEventHandler,this);d.on("uploaderror",this._swfEventHandler,this);d.callSWF("upload",[e,a,b,c])}},cancelUpload:function(){this.get("uploader")&&this.get("uploader").callSWF("cancel",[this.get("id")])}},{NAME:"file",TYPE:"flash",ATTRS:{id:{writeOnce:"initOnly",value:null},size:{writeOnce:"initOnly",
value:0},name:{writeOnce:"initOnly",value:null},dateCreated:{writeOnce:"initOnly",value:null},dateModified:{writeOnce:"initOnly",value:null},bytesUploaded:{readOnly:!0,value:0},type:{writeOnce:"initOnly",value:null},uploader:{writeOnce:"initOnly",value:null}}});b.FileFlash=c},"3.5.1",{requires:["base"]});

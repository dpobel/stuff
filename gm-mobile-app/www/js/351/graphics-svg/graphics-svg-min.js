YUI.add("graphics-svg",function(c){function y(){}var p=c.Lang,A=c.AttributeLite,o,j,s,t,u,v,w,x=c.config.doc;y.prototype={_type:"path",curveTo:function(a,b,d,e,f,c){var g,n;"C"!==this._pathType?(this._pathType="C",g=["C"],this._pathArray.push(g)):(g=this._pathArray[Math.max(0,this._pathArray.length-1)],g||(g=[],this._pathArray.push(g)));g=this._pathArray.length-1;this._pathArray[g]=this._pathArray[g].concat([Math.round(a),Math.round(b),Math.round(d),Math.round(e),f,c]);g=Math.max(f,Math.max(a,d));
n=Math.max(c,Math.max(b,e));a=Math.min(f,Math.min(a,d));b=Math.min(c,Math.min(b,e));this._trackSize(g,n);this._trackSize(a,b)},quadraticCurveTo:function(a,b,d,e){var f,c;"Q"!==this._pathType?(this._pathType="Q",f=["Q"],this._pathArray.push(f)):(f=this._pathArray[Math.max(0,this._pathArray.length-1)],f||(f=[],this._pathArray.push(f)));f=this._pathArray.length-1;this._pathArray[f]=this._pathArray[f].concat([Math.round(a),Math.round(b),Math.round(d),Math.round(e)]);f=Math.max(d,a);c=Math.max(e,b);a=
Math.min(d,a);b=Math.min(e,b);this._trackSize(f,c);this._trackSize(a,b)},drawRect:function(a,b,d,e){this.moveTo(a,b);this.lineTo(a+d,b);this.lineTo(a+d,b+e);this.lineTo(a,b+e);this.lineTo(a,b)},drawRoundRect:function(a,b,d,e,f,c){this.moveTo(a,b+c);this.lineTo(a,b+e-c);this.quadraticCurveTo(a,b+e,a+f,b+e);this.lineTo(a+d-f,b+e);this.quadraticCurveTo(a+d,b+e,a+d,b+e-c);this.lineTo(a+d,b+c);this.quadraticCurveTo(a+d,b,a+d-f,b);this.lineTo(a+f,b);this.quadraticCurveTo(a,b,a,b+c)},drawCircle:function(a,
b,d){var e=2*d;this._drawingComplete=!1;this._trackSize(a,b);this._trackSize(a+e,b+e);this._pathArray=this._pathArray||[];this._pathArray.push(["M",a+d,b]);this._pathArray.push(["A",d,d,0,1,0,a+d,b+e]);this._pathArray.push(["A",d,d,0,1,0,a+d,b]);return this},drawEllipse:function(a,b,d,e){var f=0.5*d,c=0.5*e;this._drawingComplete=!1;this._trackSize(a,b);this._trackSize(a+d,b+e);this._pathArray=this._pathArray||[];this._pathArray.push(["M",a+f,b]);this._pathArray.push(["A",f,c,0,1,0,a+f,b+e]);this._pathArray.push(["A",
f,c,0,1,0,a+f,b]);return this},drawDiamond:function(a,b,d,e){var f=0.5*d,c=0.5*e;this.moveTo(a+f,b);this.lineTo(a+d,b+c);this.lineTo(a+f,b+e);this.lineTo(a,b+c);this.lineTo(a+f,b);return this},drawWedge:function(a,b,d,e,f,c){var g,n,h,l,m,z=0,j=2*f,k,c=c||f;"M"!=this._pathType?(this._pathType="M",g=["M"],this._pathArray.push(g)):this._getCurrentArray();k=this._pathArray.length-1;this._pathArray[k].push(a);this._pathArray[k].push(a);360<Math.abs(e)&&(e=360);g=Math.ceil(Math.abs(e)/45);e=-(e/g/180)*
Math.PI;n=d/180*Math.PI;if(0<g){l=a+Math.cos(d/180*Math.PI)*f;d=b+Math.sin(d/180*Math.PI)*c;this._pathType="L";k++;this._pathArray[k]=["L"];this._pathArray[k].push(Math.round(l));this._pathArray[k].push(Math.round(d));k++;this._pathType="Q";for(this._pathArray[k]=["Q"];z<g;++z)n+=e,h=n-e/2,d=a+Math.cos(n)*f,l=b+Math.sin(n)*c,m=a+Math.cos(h)*(f/Math.cos(e/2)),h=b+Math.sin(h)*(c/Math.cos(e/2)),this._pathArray[k].push(Math.round(m)),this._pathArray[k].push(Math.round(h)),this._pathArray[k].push(Math.round(d)),
this._pathArray[k].push(Math.round(l))}this._trackSize(j,j);return this},lineTo:function(a,b,d){var e=arguments,f,c,g;this._pathArray=this._pathArray||[];if("string"===typeof a||"number"===typeof a)e=[[a,b]];c=e.length;this._shapeType="path";"L"!==this._pathType?(this._pathType="L",f=["L"],this._pathArray.push(f)):this._getCurrentArray();g=this._pathArray.length-1;for(f=0;f<c;++f)this._pathArray[g].push(e[f][0]),this._pathArray[g].push(e[f][1]),this._trackSize.apply(this,e[f])},_getCurrentArray:function(){var a=
this._pathArray[Math.max(0,this._pathArray.length-1)];a||(a=[],this._pathArray.push(a));return a},moveTo:function(a,b){var d;this._pathArray=this._pathArray||[];this._pathType="M";this._pathArray.push(["M"]);d=this._pathArray.length-1;this._pathArray[d]=this._pathArray[d].concat([a,b]);this._trackSize(a,b)},end:function(){this._closePath();this._graphic.addToRedrawQueue(this)},clear:function(){this._bottom=this._top=this._right=this._left=this._height=this._width=0;this._pathArray=[];this._path=""},
_closePath:function(){var a,b,d,e,c,i,g="",n=this.node,h=this._left,l=this._top,m=this.get("fill");if(this._pathArray){for(a=this._pathArray.concat();a&&0<a.length;)switch(b=a.shift(),e=b.length,d=b[0],g="A"===d?g+(d+b[1]+","+b[2]):"z"!=d?g+(" "+d+(b[1]-h)):g+" z ",d){case "L":case "M":case "Q":for(i=2;i<e;++i)d=0===i%2?l:h,d=b[i]-d,g+=", "+d;break;case "A":d=" "+b[3]+" "+b[4];d+=","+b[5]+" "+(b[6]-h);d+=","+(b[7]-l);g+=" "+d;break;case "C":for(i=2;i<e;++i)d=0===i%2?l:h,c=b[i],c-=d,g+=" "+c}m&&m.color&&
(g+="z");g&&n.setAttribute("d",g);this._path=g;this._fillChangeHandler();this._strokeChangeHandler();this._updateTransform()}},closePath:function(){this._pathArray.push(["z"])},_trackSize:function(a,b){a>this._right&&(this._right=a);a<this._left&&(this._left=a);b<this._top&&(this._top=b);b>this._bottom&&(this._bottom=b);this._width=this._right-this._left;this._height=this._bottom-this._top}};c.SVGDrawing=y;j=function(a){this._transforms=[];this.matrix=new c.Matrix;this._normalizedMatrix=new c.Matrix;
j.superclass.constructor.apply(this,arguments)};j.NAME="svgShape";c.extend(j,c.GraphicBase,c.mix({init:function(){this.initializer.apply(this,arguments)},initializer:function(a){a=a.graphic;this.createNode();a&&this._setGraphic(a);this._updateHandler()},_setGraphic:function(a){a instanceof c.SVGGraphic||(a=c.one(a),a=new c.SVGGraphic({render:a}),a._appendShape(this));this._graphic=a},addClass:function(a){var b=this.node;b.className.baseVal=p.trim([b.className.baseVal,a].join(" "))},removeClass:function(a){var b=
this.node,d=b.className.baseVal,d=d.replace(RegExp(a+" "),a).replace(RegExp(a),"");b.className.baseVal=d},getXY:function(){var a=this._graphic.getXY(),b=this.get("x"),d=this.get("y");return[a[0]+b,a[1]+d]},setXY:function(a){var b=this._graphic.getXY();this.set("x",a[0]-b[0]);this.set("y",a[1]-b[1])},contains:function(a){return a===c.one(this.node)},compareTo:function(a){return this.node===a},test:function(a){return c.Selector.test(this.node,a)},_getDefaultFill:function(){return{type:"solid",opacity:1,
cx:0.5,cy:0.5,fx:0.5,fy:0.5,r:0.5}},_getDefaultStroke:function(){return{weight:1,dashstyle:"none",color:"#000",opacity:1}},createNode:function(){var a=x.createElementNS("http://www.w3.org/2000/svg","svg:"+this._type),b=this.get("id"),d=this.get("pointerEvents");this.node=a;this.addClass("yui3-svgShape yui3-"+this.name);b&&a.setAttribute("id",b);d&&a.setAttribute("pointer-events",d);this.get("visible")||c.one(a).setStyle("visibility","hidden")},on:function(a,b){return c.Node.DOM_EVENTS[a]?c.one("#"+
this.get("id")).on(a,b):c.on.apply(this,arguments)},_strokeChangeHandler:function(){var a=this.node,b=this.get("stroke"),d,e,c;b&&b.weight&&0<b.weight?(c=b.linejoin||"round",d=parseFloat(b.opacity),e=b.dashstyle||"none",e=p.isArray(e)?e.toString():e,b.color=b.color||"#000000",b.weight=b.weight||1,b.opacity=p.isNumber(d)?d:1,b.linecap=b.linecap||"butt",a.setAttribute("stroke-dasharray",e),a.setAttribute("stroke",b.color),a.setAttribute("stroke-linecap",b.linecap),a.setAttribute("stroke-width",b.weight),
a.setAttribute("stroke-opacity",b.opacity),"round"==c||"bevel"==c?a.setAttribute("stroke-linejoin",c):(c=parseInt(c,10),p.isNumber(c)&&(a.setAttribute("stroke-miterlimit",Math.max(c,1)),a.setAttribute("stroke-linejoin","miter")))):a.setAttribute("stroke","none")},_fillChangeHandler:function(){var a=this.node,b=this.get("fill"),d;b?(d=b.type,"linear"==d||"radial"==d?(this._setGradientFill(b),a.setAttribute("fill","url(#grad"+this.get("id")+")")):b.color?(d=parseFloat(b.opacity),d=p.isNumber(d)?d:1,
a.setAttribute("fill",b.color),a.setAttribute("fill-opacity",d)):a.setAttribute("fill","none")):a.setAttribute("fill","none")},_setGradientFill:function(a){var b,d,e,c,i,g=p.isNumber,n=this._graphic;d=a.type;var h=n.getGradientNode("grad"+this.get("id"),d),l=a.stops;e=this.get("width");c=this.get("height");i=a.rotation||0;var m=parseFloat(parseFloat(Math.tan(i*(Math.PI/180))).toFixed(8)),j,q="0%",k="100%",r="0%",o="0%";j=a.cx;b=a.cy;q=a.fx;k=a.fy;r=a.r;a=[];"linear"==d?(j=e/2,b=c/2,Math.abs(m)*e/
2>=c/2?(180>i?(r=0,o=c):(r=c,o=0),q=j-(b-r)/m,k=j-(b-o)/m):(90<i&&270>i?(q=e,k=0):(q=0,k=e),r=-1*(m*(j-q)-b),o=-1*(m*(j-k)-b)),h.setAttribute("spreadMethod","pad"),h.setAttribute("width",e),h.setAttribute("height",c),h.setAttribute("x1",Math.round(100*q/e)+"%"),h.setAttribute("y1",Math.round(100*r/c)+"%"),h.setAttribute("x2",Math.round(100*k/e)+"%"),h.setAttribute("y2",Math.round(100*o/c)+"%")):(h.setAttribute("cx",100*j+"%"),h.setAttribute("cy",100*b+"%"),h.setAttribute("fx",100*q+"%"),h.setAttribute("fy",
100*k+"%"),h.setAttribute("r",100*r+"%"));j=l.length;for(m=0;m<j;++m)this._stops&&0<this._stops.length?(c=this._stops.shift(),i=!1):(c=n._createGraphicNode("stop"),i=!0),b=l[m],d=b.opacity,e=b.color,b=b.offset||m/(j-1),b=Math.round(100*b)+"%",d=g(d)?d:1,d=Math.max(0,Math.min(1,d)),c.setAttribute("offset",b),c.setAttribute("stop-color",e),c.setAttribute("stop-opacity",d),i&&h.appendChild(c),a.push(c);for(;this._stops&&0<this._stops.length;)h.removeChild(this._stops.shift());this._stops=a},_stops:null,
set:function(){A.prototype.set.apply(this,arguments);this.initialized&&this._updateHandler()},translate:function(a,b){this._addTransform("translate",arguments)},translateX:function(a){this._addTransform("translateX",arguments)},translateY:function(a){this._addTransform("translateY",arguments)},skew:function(a,b){this._addTransform("skew",arguments)},skewX:function(a){this._addTransform("skewX",arguments)},skewY:function(a){this._addTransform("skewY",arguments)},rotate:function(a){this._addTransform("rotate",
arguments)},scale:function(a,b){this._addTransform("scale",arguments)},_addTransform:function(a,b){b=c.Array(b);this._transform=p.trim(this._transform+" "+a+"("+b.join(", ")+")");b.unshift(a);this._transforms.push(b);this.initialized&&this._updateTransform()},_updateTransform:function(){var a="path"==this._type,b=this.node,d,e,f,i,g,j=this.matrix,h=this._normalizedMatrix,l=0,m=this._transforms.length;if(a||this._transforms&&0<this._transforms.length){f=this.get("x");i=this.get("y");d=this.get("transformOrigin");
e=f+d[0]*this.get("width");g=i+d[1]*this.get("height");a&&(this instanceof c.SVGPath||(e=this._left+d[0]*this.get("width"),g=this._top+d[1]*this.get("height")),h.init({dx:f+this._left,dy:i+this._top}));for(h.translate(e,g);l<m;++l){if(d=this._transforms[l].shift())h[d].apply(h,this._transforms[l]),j[d].apply(j,this._transforms[l]);a&&this._transforms[l].unshift(d)}h.translate(-e,-g);e="matrix("+h.a+","+h.b+","+h.c+","+h.d+","+h.dx+","+h.dy+")"}this._graphic.addToRedrawQueue(this);e&&b.setAttribute("transform",
e);a||(this._transforms=[])},_draw:function(){var a=this.node;a.setAttribute("width",this.get("width"));a.setAttribute("height",this.get("height"));a.setAttribute("x",this.get("x"));a.setAttribute("y",this.get("y"));a.style.left=this.get("x")+"px";a.style.top=this.get("y")+"px";this._fillChangeHandler();this._strokeChangeHandler();this._updateTransform()},_updateHandler:function(){this._draw()},_transform:"",getBounds:function(){var a=this._type,b=this.get("stroke"),d=this.get("width"),c=this.get("height"),
f="path"==a?0:this.get("x"),a="path"==a?0:this.get("y"),i=0;b&&b.weight&&(i=b.weight);d=f+d+i-(f-i);c=a+c+i-(a-i);return this._normalizedMatrix.getContentRect(d,c,f-i,a-i)},destroy:function(){var a=this.get("graphic");a?a.removeShape(this):this._destroy()},_destroy:function(){this.node&&(c.Event.purgeElement(this.node,!0),this.node.parentNode&&this.node.parentNode.removeChild(this.node),this.node=null)}},c.SVGDrawing.prototype));j.ATTRS={transformOrigin:{valueFn:function(){return[0.5,0.5]}},transform:{setter:function(a){this.matrix.init();
this._normalizedMatrix.init();this._transforms=this.matrix.getTransformArray(a);return this._transform=a},getter:function(){return this._transform}},id:{valueFn:function(){return c.guid()},setter:function(a){var b=this.node;b&&b.setAttribute("id",a);return a}},x:{value:0},y:{value:0},width:{value:0},height:{value:0},visible:{value:!0,setter:function(a){this.node&&(this.node.style.visibility=a?"visible":"hidden");return a}},fill:{valueFn:"_getDefaultFill",setter:function(a){var b=this.get("fill")||
this._getDefaultFill();if((a=a?c.merge(b,a):null)&&a.color&&(void 0===a.color||"none"==a.color))a.color=null;return a}},stroke:{valueFn:"_getDefaultStroke",setter:function(a){var b=this.get("stroke")||this._getDefaultStroke(),d;a&&a.hasOwnProperty("weight")&&(d=parseInt(a.weight,10),isNaN(d)||(a.weight=d));return a?c.merge(b,a):null}},autoSize:{value:!1},pointerEvents:{valueFn:function(){var a=this.node;a&&a.setAttribute("pointer-events","visiblePainted");return"visiblePainted"},setter:function(a){var b=
this.node;b&&b.setAttribute("pointer-events",a);return a}},gradientNode:{setter:function(a){p.isString(a)&&(a=this._graphic.getGradientNode("linear",a));return a}},autoDraw:{getter:function(){return this._graphic.autoDraw}},node:{readOnly:!0,getter:function(){return this.node}},graphic:{readOnly:!0,getter:function(){return this._graphic}}};c.SVGShape=j;u=function(a){u.superclass.constructor.apply(this,arguments)};u.NAME="svgPath";c.extend(u,c.SVGShape,{_left:0,_right:0,_top:0,_bottom:0,_type:"path",
_path:""});u.ATTRS=c.merge(c.SVGShape.ATTRS,{path:{readOnly:!0,getter:function(){return this._path}},width:{getter:function(){return Math.max(this._right-this._left,0)}},height:{getter:function(){return Math.max(this._bottom-this._top,0)}}});c.SVGPath=u;t=function(){t.superclass.constructor.apply(this,arguments)};t.NAME="svgRect";c.extend(t,c.SVGShape,{_type:"rect"});t.ATTRS=c.SVGShape.ATTRS;c.SVGRect=t;v=function(a){v.superclass.constructor.apply(this,arguments)};v.NAME="svgEllipse";c.extend(v,j,
{_type:"ellipse",_draw:function(){var a=this.node,b=this.get("width"),d=this.get("height"),c=this.get("x"),f=this.get("y"),b=0.5*b,d=0.5*d,c=c+b,f=f+d;a.setAttribute("rx",b);a.setAttribute("ry",d);a.setAttribute("cx",c);a.setAttribute("cy",f);this._fillChangeHandler();this._strokeChangeHandler();this._updateTransform()}});v.ATTRS=c.merge(j.ATTRS,{xRadius:{setter:function(a){this.set("width",a/2)},getter:function(){var a=this.get("width");a&&(a*=0.5);return a}},yRadius:{setter:function(a){this.set("height",
a/2)},getter:function(){var a=this.get("height");a&&(a*=0.5);return a}}});c.SVGEllipse=v;s=function(a){s.superclass.constructor.apply(this,arguments)};s.NAME="svgCircle";c.extend(s,c.SVGShape,{_type:"circle",_draw:function(){var a=this.node,b=this.get("x"),d=this.get("y"),c=this.get("radius"),b=b+c,d=d+c;a.setAttribute("r",c);a.setAttribute("cx",b);a.setAttribute("cy",d);this._fillChangeHandler();this._strokeChangeHandler();this._updateTransform()}});s.ATTRS=c.merge(c.SVGShape.ATTRS,{width:{setter:function(a){this.set("radius",
a/2);return a},getter:function(){return 2*this.get("radius")}},height:{setter:function(a){this.set("radius",a/2);return a},getter:function(){return 2*this.get("radius")}},radius:{value:0}});c.SVGCircle=s;w=function(){w.superclass.constructor.apply(this,arguments)};w.NAME="svgPieSlice";c.extend(w,c.SVGShape,c.mix({_type:"path",_draw:function(){var a=this.get("cx"),b=this.get("cy"),d=this.get("startAngle"),c=this.get("arc"),f=this.get("radius");this.clear();this.drawWedge(a,b,d,c,f);this.end()}},c.SVGDrawing.prototype));
w.ATTRS=c.mix({cx:{value:0},cy:{value:0},startAngle:{value:0},arc:{value:0},radius:{value:0}},c.SVGShape.ATTRS);c.SVGPieSlice=w;o=function(a){o.superclass.constructor.apply(this,arguments)};o.NAME="svgGraphic";o.ATTRS={render:{},id:{valueFn:function(){return c.guid()},setter:function(a){var b=this._node;b&&b.setAttribute("id",a);return a}},shapes:{readOnly:!0,getter:function(){return this._shapes}},contentBounds:{readOnly:!0,getter:function(){return this._contentBounds}},node:{readOnly:!0,getter:function(){return this._node}},
width:{setter:function(a){this._node&&(this._node.style.width=a+"px");return a}},height:{setter:function(a){this._node&&(this._node.style.height=a+"px");return a}},autoSize:{value:!1},resizeDown:{getter:function(){return this._resizeDown},setter:function(a){this._resizeDown=a;this._contentNode&&this._redraw();return a}},x:{getter:function(){return this._x},setter:function(a){this._x=a;this._node&&(this._node.style.left=a+"px");return a}},y:{getter:function(){return this._y},setter:function(a){this._y=
a;this._node&&(this._node.style.top=a+"px");return a}},autoDraw:{value:!0},visible:{value:!0,setter:function(a){this._toggleVisible(a);return a}},pointerEvents:{value:"none"}};c.extend(o,c.GraphicBase,{_x:0,_y:0,getXY:function(){var a=c.one(this._node),b;a&&(b=a.getXY());return b},_resizeDown:!1,initializer:function(){var a=this.get("render");this._shapes={};this._contentBounds={left:0,top:0,right:0,bottom:0};this._gradients={};this._node=x.createElement("div");this._node.style.position="absolute";
this._node.style.left=this.get("x")+"px";this._node.style.top=this.get("y")+"px";this._contentNode=this._createGraphics();this._contentNode.setAttribute("id",this.get("id"));this._node.appendChild(this._contentNode);a&&this.render(a)},render:function(a){var a=c.one(a),b=this.get("width")||parseInt(a.getComputedStyle("width"),10),d=this.get("height")||parseInt(a.getComputedStyle("height"),10),a=a||c.one(x.body);a.append(this._node);this.parentNode=a;this.set("width",b);this.set("height",d);return this},
destroy:function(){this.removeAllShapes();this._contentNode&&(this._removeChildren(this._contentNode),this._contentNode.parentNode&&this._contentNode.parentNode.removeChild(this._contentNode),this._contentNode=null);this._node&&(this._removeChildren(this._node),c.one(this._node).remove(!0),this._node=null)},addShape:function(a){a.graphic=this;a=new (this._getShapeClass(a.type))(a);this._appendShape(a);return a},_appendShape:function(a){var a=a.node,b=this._frag||this._contentNode;this.get("autoDraw")?
b.appendChild(a):this._getDocFrag().appendChild(a)},removeShape:function(a){a instanceof j||p.isString(a)&&(a=this._shapes[a]);a&&a instanceof j&&(a._destroy(),delete this._shapes[a.get("id")]);this.get("autoDraw")&&this._redraw();return a},removeAllShapes:function(){var a=this._shapes,b;for(b in a)a.hasOwnProperty(b)&&a[b]._destroy();this._shapes={}},_removeChildren:function(a){if(a.hasChildNodes())for(var b;a.firstChild;)b=a.firstChild,this._removeChildren(b),a.removeChild(b)},clear:function(){this.removeAllShapes()},
_toggleVisible:function(a){var b,d=this._shapes,c=a?"visible":"hidden";if(d)for(b in d)d.hasOwnProperty(b)&&d[b].set("visible",a);this._contentNode.style.visibility=c;this._node.style.visibility=c},_getShapeClass:function(a){var b=this._shapeClass[a];return b?b:a},_shapeClass:{circle:c.SVGCircle,rect:c.SVGRect,path:c.SVGPath,ellipse:c.SVGEllipse,pieslice:c.SVGPieSlice},getShapeById:function(a){return this._shapes[a]},batch:function(a){var b=this.get("autoDraw");this.set("autoDraw",!1);a();this._redraw();
this.set("autoDraw",b)},_getDocFrag:function(){this._frag||(this._frag=x.createDocumentFragment());return this._frag},_redraw:function(){var a=this.get("resizeDown")?this._getUpdatedContentBounds():this._contentBounds;this._contentNode&&(this._contentNode.style.left=a.left+"px",this._contentNode.style.top=a.top+"px",this._contentNode.setAttribute("width",a.width),this._contentNode.setAttribute("height",a.height),this._contentNode.style.width=a.width+"px",this._contentNode.style.height=a.height+"px",
this._contentNode.setAttribute("viewBox",""+a.left+" "+a.top+" "+a.width+" "+a.height+""));this.get("autoSize")&&(this.set("width",a.right),this.set("height",a.bottom));this._frag&&(this._contentNode&&this._contentNode.appendChild(this._frag),this._frag=null)},addToRedrawQueue:function(a){var b;this._shapes[a.get("id")]=a;this.get("resizeDown")||(a=a.getBounds(),b=this._contentBounds,b.left=b.left<a.left?b.left:a.left,b.top=b.top<a.top?b.top:a.top,b.right=b.right>a.right?b.right:a.right,b.bottom=
b.bottom>a.bottom?b.bottom:a.bottom,b.width=b.right-b.left,b.height=b.bottom-b.top,this._contentBounds=b);this.get("autoDraw")&&this._redraw()},_getUpdatedContentBounds:function(){var a,b,d=this._shapes,c={left:0,top:0,right:0,bottom:0};for(b in d)d.hasOwnProperty(b)&&(a=d[b],a=a.getBounds(),c.left=Math.min(c.left,a.left),c.top=Math.min(c.top,a.top),c.right=Math.max(c.right,a.right),c.bottom=Math.max(c.bottom,a.bottom));c.width=c.right-c.left;c.height=c.bottom-c.top;return this._contentBounds=c},
_createGraphics:function(){var a=this._createGraphicNode("svg"),b=this.get("pointerEvents");a.style.position="absolute";a.style.top="0px";a.style.left="0px";a.style.overflow="auto";a.setAttribute("overflow","auto");a.setAttribute("pointer-events",b);return a},_createGraphicNode:function(a,b){var c=x.createElementNS("http://www.w3.org/2000/svg","svg:"+a);"defs"!==a&&"stop"!==a&&"linearGradient"!==a&&"radialGradient"!=a&&c.setAttribute("pointer-events",b||"none");return c},getGradientNode:function(a,
b){var c=this._gradients,e;e=b+"Gradient";c.hasOwnProperty(a)&&-1<c[a].tagName.indexOf(b)?e=this._gradients[a]:(e=this._createGraphicNode(e),this._defs||(this._defs=this._createGraphicNode("defs"),this._contentNode.appendChild(this._defs)),this._defs.appendChild(e),a=a||"gradient"+Math.round(1E5*Math.random()),e.setAttribute("id",a),c.hasOwnProperty(a)&&this._defs.removeChild(c[a]),c[a]=e);return e}});c.SVGGraphic=o},"3.5.1",{skinnable:!1,requires:["graphics"]});

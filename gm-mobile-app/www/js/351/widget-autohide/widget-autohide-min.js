YUI.add("widget-autohide",function(a){function b(){a.after(this._bindUIAutohide,this,j);a.after(this._syncUIAutohide,this,k);this.get(l)&&(this._bindUIAutohide(),this._syncUIAutohide())}var j="bindUI",k="syncUI",l="rendered";b.ATTRS={hideOn:{validator:a.Lang.isArray,valueFn:function(){return[{node:a.one("document"),eventName:"key",keyCode:"esc"}]}}};b.prototype={_uiHandlesAutohide:null,destructor:function(){this._detachUIHandlesAutohide()},_bindUIAutohide:function(){this.after("visibleChange",this._afterHostVisibleChangeAutohide);
this.after("hideOnChange",this._afterHideOnChange)},_syncUIAutohide:function(){this._uiSetHostVisibleAutohide(this.get("visible"))},_uiSetHostVisibleAutohide:function(i){i?a.later(1,this,"_attachUIHandlesAutohide"):this._detachUIHandlesAutohide()},_attachUIHandlesAutohide:function(){if(!this._uiHandlesAutohide){for(var i=this.get("boundingBox"),b=a.bind(this.hide,this),g=[],h=this.get("hideOn"),e=0,d=void 0,c=void 0,f=void 0;e<h.length;e++)d=h[e].node,c=h[e].eventName,f=h[e].keyCode,!d&&!f&&c?g.push(i.on(c,
b)):d&&!f&&c?g.push(d.on(c,b)):d&&f&&c&&g.push(d.on(c,b,f));this._uiHandlesAutohide=g}},_detachUIHandlesAutohide:function(){a.each(this._uiHandlesAutohide,function(a){a.detach()});this._uiHandlesAutohide=null},_afterHostVisibleChangeAutohide:function(a){this._uiSetHostVisibleAutohide(a.newVal)},_afterHideOnChange:function(){this._detachUIHandlesAutohide();this.get("visible")&&this._attachUIHandlesAutohide()}};a.WidgetAutohide=b},"3.5.1",{requires:["base-build","widget","event-outside","event-key"]});

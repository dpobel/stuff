YUI.add("cookie",function(k){function i(a){throw new TypeError(a);}function f(a){(!l(a)||""===a)&&i("Cookie name must be a non-empty string.")}function q(a){(!l(a)||""===a)&&i("Subcookie name must be a non-empty string.")}var o=k.Lang,r=k.Object,l=o.isString,h=o.isObject,g=o.isUndefined,m=o.isFunction,p=encodeURIComponent,n=decodeURIComponent,j=k.config.doc;k.Cookie={_createCookieString:function(a,b,c,d){var d=d||{},a=p(a)+"="+(c?p(b):b),b=d.expires,c=d.path,e=d.domain;h(d)&&(b instanceof Date&&(a+=
"; expires="+b.toUTCString()),l(c)&&""!==c&&(a+="; path="+c),l(e)&&""!==e&&(a+="; domain="+e),!0===d.secure&&(a+="; secure"));return a},_createCookieHashString:function(a){h(a)||i("Cookie._createCookieHashString(): Argument must be an object.");var b=[];r.each(a,function(a,d){!m(a)&&!g(a)&&b.push(p(d)+"="+p(""+a))});return b.join("&")},_parseCookieHash:function(a){var b=a.split("&"),c=null,d={};if(a.length)for(var a=0,e=b.length;a<e;a++)c=b[a].split("="),d[n(c[0])]=n(c[1]);return d},_parseCookieString:function(a,
b){var c={};if(l(a)&&0<a.length)for(var d=!1===b?function(a){return a}:n,e=a.split(/;\s/g),f=null,i=null,h=null,g=0,j=e.length;g<j;g++){h=e[g].match(/([^=]+)=/i);if(h instanceof Array)try{f=n(h[1]),i=d(e[g].substring(h[1].length+1))}catch(k){}else f=n(e[g]),i="";c[f]=i}return c},_setDoc:function(a){j=a},exists:function(a){f(a);return this._parseCookieString(j.cookie,!0).hasOwnProperty(a)},get:function(a,b){f(a);var c,d;m(b)?(d=b,b={}):h(b)?d=b.converter:b={};c=this._parseCookieString(j.cookie,!b.raw)[a];
return g(c)?null:m(d)?d(c):c},getSub:function(a,b,c){a=this.getSubs(a);return null!==a?(q(b),g(a[b])?null:m(c)?c(a[b]):a[b]):null},getSubs:function(a){f(a);var b=this._parseCookieString(j.cookie,!1);return l(b[a])?this._parseCookieHash(b[a]):null},remove:function(a,b){f(a);b=k.merge(b||{},{expires:new Date(0)});return this.set(a,"",b)},removeSub:function(a,b,c){f(a);q(b);var c=c||{},d=this.getSubs(a);if(h(d)&&d.hasOwnProperty(b)){delete d[b];if(c.removeIfEmpty){for(var e in d)if(d.hasOwnProperty(e)&&
!m(d[e])&&!g(d[e]))return this.setSubs(a,d,c);return this.remove(a,c)}return this.setSubs(a,d,c)}return""},set:function(a,b,c){f(a);g(b)&&i("Cookie.set(): Value cannot be undefined.");c=c||{};a=this._createCookieString(a,b,!c.raw,c);return j.cookie=a},setSub:function(a,b,c,d){f(a);q(b);g(c)&&i("Cookie.setSub(): Subcookie value cannot be undefined.");var e=this.getSubs(a);h(e)||(e={});e[b]=c;return this.setSubs(a,e,d)},setSubs:function(a,b,c){f(a);h(b)||i("Cookie.setSubs(): Cookie value must be an object.");
a=this._createCookieString(a,this._createCookieHashString(b),!1,c);return j.cookie=a}}},"3.5.1",{requires:["yui-base"]});

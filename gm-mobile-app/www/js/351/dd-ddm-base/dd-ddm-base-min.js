YUI.add("dd-ddm-base",function(b){var d=function(){d.superclass.constructor.apply(this,arguments)};d.NAME="ddm";d.ATTRS={dragCursor:{value:"move"},clickPixelThresh:{value:3},clickTimeThresh:{value:1E3},throttleTime:{value:-1},dragMode:{value:"point",setter:function(a){this._setDragMode(a);return a}}};b.extend(d,b.Base,{_createPG:function(){},_active:null,_setDragMode:function(a){null===a&&(a=b.DD.DDM.get("dragMode"));switch(a){case 1:case "intersect":return 1;case 2:case "strict":return 2}return 0},
CSS_PREFIX:b.ClassNameManager.getClassName("dd"),_activateTargets:function(){},_drags:[],activeDrag:!1,_regDrag:function(a){if(this.getDrag(a.get("node")))return!1;this._active||this._setupListeners();this._drags.push(a);return!0},_unregDrag:function(a){var c=[];b.each(this._drags,function(b){b!==a&&(c[c.length]=b)});this._drags=c},_setupListeners:function(){this._createPG();this._active=!0;var a=b.one(b.config.doc);a.on("mousemove",b.throttle(b.bind(this._move,this),this.get("throttleTime")));a.on("mouseup",
b.bind(this._end,this))},_start:function(){this.fire("ddm:start");this._startDrag()},_startDrag:function(){},_endDrag:function(){},_dropMove:function(){},_end:function(){this.activeDrag&&(this._endDrag(),this.fire("ddm:end"),this.activeDrag.end.call(this.activeDrag),this.activeDrag=null)},stopDrag:function(){this.activeDrag&&this._end();return this},_move:function(a){this.activeDrag&&(this.activeDrag._move.call(this.activeDrag,a),this._dropMove())},cssSizestoObject:function(a){a=a.split(" ");switch(a.length){case 1:a[1]=
a[2]=a[3]=a[0];break;case 2:a[2]=a[0];a[3]=a[1];break;case 3:a[3]=a[1]}return{top:parseInt(a[0],10),right:parseInt(a[1],10),bottom:parseInt(a[2],10),left:parseInt(a[3],10)}},getDrag:function(a){var c=!1,e=b.one(a);e instanceof b.Node&&b.each(this._drags,function(a){e.compareTo(a.get("node"))&&(c=a)});return c},swapPosition:function(a,c){var a=b.DD.DDM.getNode(a),c=b.DD.DDM.getNode(c),e=a.getXY(),d=c.getXY();a.setXY(d);c.setXY(e);return a},getNode:function(a){return a instanceof b.Node?a:a=a&&a.get?
b.Widget&&a instanceof b.Widget?a.get("boundingBox"):a.get("node"):b.one(a)},swapNode:function(a,c){var a=b.DD.DDM.getNode(a),c=b.DD.DDM.getNode(c),e=c.get("parentNode"),d=c.get("nextSibling");d==a?e.insertBefore(a,c):c==a.get("nextSibling")?e.insertBefore(c,a):(a.get("parentNode").replaceChild(c,a),e.insertBefore(a,d));return a}});b.namespace("DD");b.DD.DDM=new d},"3.5.1",{skinnable:!1,requires:["node","base","yui-throttle","classnamemanager"]});

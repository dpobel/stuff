YUI.add("event-focus",function(i){function f(f,l,s){var n="_"+f+"Notifiers";i.Event.define(f,{_attach:function(a,b,d){return i.DOM.isWindow(a)?q._attach([f,function(a){b.fire(a)},a]):q._attach([l,this._proxy,a,this,b,d],{capture:!0})},_proxy:function(a,b,d){var e=a.target,c=a.currentTarget,g=e.getData(n),j=i.stamp(c._node),h=r||e!==c;b.currentTarget=d?e:c;b.container=d?c:null;g?h=!0:(g={},e.setData(n,g),h&&(d=q._attach([s,this._notify,e._node]).sub,d.once=!0));g[j]||(g[j]=[]);g[j].push(b);h||this._notify(a)},
_notify:function(a){var b=a.currentTarget,d=b.getData(n),e=b.ancestors(),c=b.get("ownerDocument"),g=[],j=d?i.Object.keys(d).length:0,h,f,l,k,o,m,p;b.clearData(n);e.push(b);c&&e.unshift(c);e._nodes.reverse();b=j;e.some(function(a){var a=i.stamp(a),a=d[a],b,c;if(a){j--;b=0;for(c=a.length;b<c;++b)a[b].handle.sub.filter&&g.push(a[b])}return!j});for(j=b;j&&(h=e.shift());){f=i.stamp(h);if(b=d[f]){k=0;for(o=b.length;k<o&&!(c=b[k],m=c.handle.sub,l=!0,a.currentTarget=h,m.filter&&(l=m.filter.apply(h,[h,a].concat(m.args||
[])),g.splice(t(g,c),1)),l&&(a.container=c.container,p=c.fire(a)),!1===p||2===a.stopped);++k);delete b[f];j--}if(2!==a.stopped){k=0;for(o=g.length;k<o;++k){c=g[k];m=c.handle.sub;if(m.filter.apply(h,[h,a].concat(m.args||[])))a.container=c.container,a.currentTarget=h,p=c.fire(a);if(!1===p||2===a.stopped)break}}if(a.stopped)break}},on:function(a,b,d){b.handle=this._attach(a._node,d)},detach:function(a,b){b.handle.detach()},delegate:function(a,b,d,e){u(e)&&(b.filter=function(b){return i.Selector.test(b._node,
e,a===b?null:a._node)});b.handle=this._attach(a._node,d,!0)},detachDelegate:function(a,b){b.handle.detach()}},!0)}var q=i.Event,l=i.Lang,u=l.isString,t=i.Array.indexOf,r=l.isFunction(i.DOM.create('<p onbeforeactivate=";"/>').onbeforeactivate);r?(f("focus","beforeactivate","focusin"),f("blur","beforedeactivate","focusout")):(f("focus","focus","focus"),f("blur","blur","blur"))},"3.5.1",{requires:["event-synthetic"]});

YUI.add("datasource-local",function(b){var f=b.Lang,c=function(){c.superclass.constructor.apply(this,arguments)};b.mix(c,{NAME:"dataSourceLocal",ATTRS:{source:{value:null}},_tId:0,transactions:{},issueCallback:function(a,d){var e=a.on||a.callback,b=e&&e.success,c=a.details[0];c.error=a.error||a.response.error;c.error&&(d.fire("error",c),b=e&&e.failure);b&&b(c)}});b.extend(c,b.Base,{initializer:function(){this._initEvents()},_initEvents:function(){this.publish("request",{defaultFn:b.bind("_defRequestFn",
this),queuable:!0});this.publish("data",{defaultFn:b.bind("_defDataFn",this),queuable:!0});this.publish("response",{defaultFn:b.bind("_defResponseFn",this),queuable:!0})},_defRequestFn:function(a){var d=this.get("source"),a=a.details[0];f.isUndefined(d)&&(a.error=Error("Local source undefined"));a.data=d;this.fire("data",a)},_defDataFn:function(a){var d=a.data,b=a.meta,d={results:f.isArray(d)?d:[d],meta:b?b:{}},a=a.details[0];a.response=d;this.fire("response",a)},_defResponseFn:function(a){c.issueCallback(a,
this)},sendRequest:function(a){var b=c._tId++,e,a=a||{};e=a.on||a.callback;this.fire("request",{tId:b,request:a.request,on:e,callback:e,cfg:a.cfg||{}});return b}});b.namespace("DataSource").Local=c},"3.5.1",{requires:["base"]});

YUI.add("datatable-head",function(j){var n=j.Lang,o=n.sub,p=n.isArray,q=j.Array,m=j.ClassNameManager,r=m.getClassName;j.namespace("DataTable").HeaderView=j.Base.create("tableHeader",j.View,[],{CELL_TEMPLATE:'<th id="{id}" colspan="{_colspan}" rowspan="{_rowspan}" class="{className}" scope="col" {_id}{abbr}>{content}</th>',ROW_TEMPLATE:"<tr>{content}</tr>",getClassName:function(){var b=q(arguments);b.unshift(this._cssPrefix);b.push(!0);return r.apply(m,b)},render:function(){var b=this.get("container"),
g=this.columns,c={_colspan:1,_rowspan:1,abbr:""},l,h,i,f,d,k,a,e;if(b&&g){k="";if(g.length){l=0;for(h=g.length;l<h;++l){a="";i=0;for(f=g[l].length;i<f;++i)d=g[l][i],e=j.merge(c,d,{className:this.getClassName("header"),content:d.label||d.key||"Column "+(i+1)}),e._id=d._id?' data-yui3-col-id="'+d._id+'"':"",d.abbr&&(e.abbr=' abbr="'+d.abbr+'"'),d.className&&(e.className+=" "+d.className),d._first&&(e.className+=" "+this.getClassName("first","header")),d._id&&(e.className+=" "+this.getClassName("col",
d._id)),a+=o(d.headerTemplate||this.CELL_TEMPLATE,e);k+=o(this.ROW_TEMPLATE,{content:a})}}b.setContent(k)}this.bindUI();return this},_cssPrefix:m.getClassName("table"),_afterColumnsChange:function(b){this.columns=this._parseColumns(b.newVal);this.render()},bindUI:function(){this.source&&!this._eventHandles.columnsChange&&(this._eventHandles.columnsChange=this.source.after("columnsChange",j.bind("_afterColumnsChange",this)))},destructor:function(){(new j.EventHandle(j.Object.values(this._eventHandles))).detach()},
initializer:function(b){b||(b={});var g=b.cssPrefix||(b.source||{}).cssPrefix;this.source=b.source;this.columns=this._parseColumns(b.columns);this._eventHandles=[];g&&(this._cssPrefix=g)},_parseColumns:function(b){var g=[],c=[],l=1,h,i,f,d,k,a,e;if(p(b)&&b.length){for(c.push([b,-1]);c.length;){h=c[c.length-1];i=h[0];a=h[1]+1;for(e=i.length;a<e;++a)if(f=i[a],d=f.children,j.stamp(f),p(d)&&d.length){c.push([d,-1]);h[1]=a;l=Math.max(l,c.length);break}else f._colspan=1;if(a>=e){if(1<c.length){h=c[c.length-
2];k=h[0][h[1]];a=k._colspan=0;for(e=i.length;a<e;++a)k._colspan+=i[a]._colspan}c.pop()}}for(a=0;a<l;++a)g.push([]);for(c.push([b,-1]);c.length;){h=c[c.length-1];i=h[0];a=h[1]+1;for(e=i.length;a<e;++a){f=i[a];d=f.children;g[c.length-1].push(f);h[1]=a;f._headers=[f.id];for(b=c.length-2;0<=b;--b)k=c[b][0][c[b][1]],f._headers.unshift(k.id);if(d&&d.length){c.push([d,-1]);break}else f._rowspan=l-c.length+1}a>=e&&c.pop()}}a=0;for(e=g.length;a<e;a+=f._rowspan)f=g[a][0],f._first=!0;return g}})},"3.5.0",{requires:["datatable-core",
"view","classnamemanager"]});

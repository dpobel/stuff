YUI.add("calendarnavigator",function(d){function b(a){b.superclass.constructor.apply(this,arguments)}var f=d.ClassNameManager.getClassName,g=d.substitute,h=d.Node.create,i=f("calendar","header"),j=f("calendarnav","prevmonth"),k=f("calendarnav","nextmonth"),c=f("calendarnav","month-disabled"),e=d.DataType.Date;b.NS="navigator";b.NAME="pluginCalendarNavigator";b.ATTRS={shiftByMonths:{value:1}};b.CALENDARNAV_STRINGS={prev_month_class:j,next_month_class:k};b.PREV_MONTH_CONTROL_TEMPLATE='<a class="yui3-u {prev_month_class}" role="button" aria-label="{prev_month_arialabel}" tabindex="{control_tabindex}"><span>&lt;</span></a>';
b.NEXT_MONTH_CONTROL_TEMPLATE='<a class="yui3-u {next_month_class}" role="button" aria-label="{next_month_arialabel}" tabindex="{control_tabindex}"><span>&gt;</span></a>';d.extend(b,d.Plugin.Base,{_eventAttachments:{},_controls:{},initializer:function(){this._controls={};this._eventAttachments={};this.afterHostMethod("renderUI",this._initNavigationControls)},destructor:function(){},_subtractMonths:function(a){if("click"===a.type||"keydown"===a.type&&(13==a.keyCode||32==a.keyCode)){var b=this.get("host"),
c=b.get("date");b.set("date",e.addMonths(c,-1*this.get("shiftByMonths")));a.preventDefault()}},_addMonths:function(a){if("click"===a.type||"keydown"===a.type&&(13==a.keyCode||32==a.keyCode)){var b=this.get("host"),c=b.get("date");b.set("date",e.addMonths(c,this.get("shiftByMonths")));a.preventDefault()}},_updateControlState:function(){var a=this.get("host");e.areEqual(a.get("minimumDate"),a.get("date"))?(this._eventAttachments.prevMonth&&(this._eventAttachments.prevMonth.detach(),this._eventAttachments.prevMonth=
!1),this._controls.prevMonth.hasClass(c)||this._controls.prevMonth.addClass(c).setAttribute("aria-disabled","true")):(this._eventAttachments.prevMonth||(this._eventAttachments.prevMonth=this._controls.prevMonth.on(["click","keydown"],this._subtractMonths,this)),this._controls.prevMonth.hasClass(c)&&this._controls.prevMonth.removeClass(c).setAttribute("aria-disabled","false"));e.areEqual(a.get("maximumDate"),e.addMonths(a.get("date"),a._paneNumber-1))?(this._eventAttachments.nextMonth&&(this._eventAttachments.nextMonth.detach(),
this._eventAttachments.nextMonth=!1),this._controls.nextMonth.hasClass(c)||this._controls.nextMonth.addClass(c).setAttribute("aria-disabled","true")):(this._eventAttachments.nextMonth||(this._eventAttachments.nextMonth=this._controls.nextMonth.on(["click","keydown"],this._addMonths,this)),this._controls.nextMonth.hasClass(c)&&this._controls.nextMonth.removeClass(c).setAttribute("aria-disabled","false"))},_renderPrevControls:function(){var a=h(g(b.PREV_MONTH_CONTROL_TEMPLATE,b.CALENDARNAV_STRINGS));
a.on("selectstart",function(a){a.preventDefault()});return a},_renderNextControls:function(){var a=h(g(b.NEXT_MONTH_CONTROL_TEMPLATE,b.CALENDARNAV_STRINGS));a.on("selectstart",function(a){a.preventDefault()});return a},_initNavigationControls:function(){var a=this.get("host");b.CALENDARNAV_STRINGS.control_tabindex=a.get("tabIndex");b.CALENDARNAV_STRINGS.prev_month_arialabel="Go to previous month";b.CALENDARNAV_STRINGS.next_month_arialabel="Go to next month";var c=a.get("contentBox").one("."+i);this._controls.prevMonth=
this._renderPrevControls();this._controls.nextMonth=this._renderNextControls();this._updateControlState();a.after("dateChange",this._updateControlState,this);c.prepend(this._controls.prevMonth);c.append(this._controls.nextMonth)}});d.namespace("Plugin").CalendarNavigator=b},"3.5.0",{requires:["plugin","classnamemanager","datatype-date","node","substitute"]});

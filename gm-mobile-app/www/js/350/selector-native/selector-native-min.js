YUI.add("selector-native",function(m){(function(c){c.namespace("Selector");var h={_types:{esc:{token:"\ue000",re:/\\[:\[\]\(\)#\.\'\>+~"]/gi},attr:{token:"\ue001",re:/(\[[^\]]*\])/g},pseudo:{token:"\ue002",re:/(\([^\)]*\))/g}},useNative:!0,_escapeId:function(a){a&&(a=a.replace(/([:\[\]\(\)#\.'<>+~"])/g,"\\$1"));return a},_compare:"sourceIndex"in c.config.doc.documentElement?function(a,b){var d=a.sourceIndex,c=b.sourceIndex;return d===c?0:d>c?1:-1}:c.config.doc.documentElement.compareDocumentPosition?
function(a,b){return a.compareDocumentPosition(b)&4?-1:1}:function(a,b){var d,c;a&&b&&(d=a.ownerDocument.createRange(),d.setStart(a,0),c=b.ownerDocument.createRange(),c.setStart(b,0),d=d.compareBoundaryPoints(1,c));return d},_sort:function(a){a&&(a=c.Array(a,0,!0),a.sort&&a.sort(h._compare));return a},_deDupe:function(a){var b=[],c,e;for(c=0;e=a[c++];)e._found||(b[b.length]=e,e._found=!0);for(c=0;e=b[c++];)e._found=null,e.removeAttribute("_found");return b},query:function(a,b,d,e){var b=b||c.config.doc,
f=[],g=c.Selector.useNative&&c.config.doc.querySelector&&!e,i=[[a,b]],j=g?c.Selector._nativeQuery:c.Selector._bruteQuery;if(a&&j){if(!e&&(!g||b.tagName))i=h._splitQueries(a,b);for(a=0;b=i[a++];)b=j(b[0],b[1],d),d||(b=c.Array(b,0,!0)),b&&(f=f.concat(b));1<i.length&&(f=h._sort(h._deDupe(f)))}return d?f[0]||null:f},_replaceSelector:function(a){var b=c.Selector._parse("esc",a),d,e,a=c.Selector._replace("esc",a);e=c.Selector._parse("pseudo",a);a=h._replace("pseudo",a);d=c.Selector._parse("attr",a);a=c.Selector._replace("attr",
a);return{esc:b,attrs:d,pseudos:e,selector:a}},_restoreSelector:function(a){var b=a.selector,b=c.Selector._restore("attr",b,a.attrs),b=c.Selector._restore("pseudo",b,a.pseudos);return b=c.Selector._restore("esc",b,a.esc)},_replaceCommas:function(a){var b=c.Selector._replaceSelector(a);if(a=b.selector)a=a.replace(",","\ue007","g"),b.selector=a,a=c.Selector._restoreSelector(b);return a},_splitQueries:function(a,b){-1<a.indexOf(",")&&(a=c.Selector._replaceCommas(a));var d=a.split("\ue007"),e=[],f="",
g,i;if(b){1===b.nodeType&&(f=c.Selector._escapeId(c.DOM.getId(b)),f||(f=c.guid(),c.DOM.setId(b,f)),f='[id="'+f+'"] ');g=0;for(i=d.length;g<i;++g)a=f+d[g],e.push([a,b])}return e},_nativeQuery:function(a,b,d){if(c.UA.webkit&&-1<a.indexOf(":checked")&&c.Selector.pseudos&&c.Selector.pseudos.checked)return c.Selector.query(a,b,d,!0);try{return b["querySelector"+(d?"":"All")](a)}catch(e){return c.Selector.query(a,b,d,!0)}},filter:function(a,b){var d=[],e,f;if(a&&b)for(e=0;f=a[e++];)c.Selector.test(f,b)&&
(d[d.length]=f);return d},test:function(a,b,d){var e=!1,f=!1,g,i,j,h,k,l;if(a&&a.tagName)if("function"==typeof b)e=b.call(a,a);else{b=b.split(",");!d&&!c.DOM.inDoc(a)&&(d=a.parentNode,d||(j=a.ownerDocument.createDocumentFragment(),j.appendChild(a),d=j,f=!0));d=d||a.ownerDocument;h=c.Selector._escapeId(c.DOM.getId(a));h||(h=c.guid(),c.DOM.setId(a,h));for(k=0;g=b[k++];){g+='[id="'+h+'"]';i=c.Selector.query(g,d);for(l=0;g=i[l++];)if(g===a){e=!0;break}if(e)break}f&&j.removeChild(a)}return e},ancestor:function(a,
b,d){return c.DOM.ancestor(a,function(a){return c.Selector.test(a,b)},d)},_parse:function(a,b){return b.match(c.Selector._types[a].re)},_replace:function(a,b){var d=c.Selector._types[a];return b.replace(d.re,d.token)},_restore:function(a,b,d){if(d){var a=c.Selector._types[a].token,e,f;e=0;for(f=d.length;e<f;++e)b=b.replace(a,d[e])}return b}};c.mix(c.Selector,h,!0)})(m)},"3.5.0",{requires:["dom-base"]});

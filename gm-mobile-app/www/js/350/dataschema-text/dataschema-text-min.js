YUI.add("dataschema-text",function(f){var g=f.Lang,m=g.isString,o=g.isUndefined,j={apply:function(b,a){var d={results:[],meta:{}};m(a)&&b&&m(b.resultDelimiter)?d=j._parseResults.call(this,b,a,d):d.error=Error("Text schema parse failure");return d},_parseResults:function(b,a,d){var c=b.resultDelimiter,k=m(b.fieldDelimiter)&&b.fieldDelimiter,g=b.resultFields||[],n=[],j=f.DataSchema.Base.parse,e,h,l,p,i;a.slice(-c.length)===c&&(a=a.slice(0,-c.length));a=a.split(b.resultDelimiter);if(k)for(c=a.length-
1;0<=c;--c){k={};e=a[c];e=e.split(b.fieldDelimiter);for(i=g.length-1;0<=i;--i)h=g[i],l=!o(h.key)?h.key:h,p=!o(e[l])?e[l]:e[i],k[l]=j.call(this,p,h);n[c]=k}else n=a;d.results=n;return d}};f.DataSchema.Text=f.mix(j,f.DataSchema.Base)},"3.5.0",{requires:["dataschema-base"]});

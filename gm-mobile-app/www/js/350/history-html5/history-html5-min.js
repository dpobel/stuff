YUI.add("history-html5",function(a){function c(){c.superclass.constructor.apply(this,arguments)}var d=a.HistoryBase,g=a.Lang,f=a.config.win,h=a.config.useHistoryHTML5,i=d.SRC_REPLACE;a.extend(c,d,{_init:function(b){var e=f.history.state;b||(b={});this._initialState=b.initialState&&"object"===g.type(b.initialState)&&"object"===g.type(e)?a.merge(b.initialState,e):e;a.on("popstate",this._onPopState,f,this);c.superclass._init.apply(this,arguments)},_storeState:function(b,e,d){if("popstate"!==b)f.history[b===
i?"replaceState":"pushState"](e,d.title||a.config.doc.title||"",d.url||null);c.superclass._storeState.apply(this,arguments)},_onPopState:function(a){this._resolveChanges("popstate",a._event.state||null)}},{NAME:"historyhtml5",SRC_POPSTATE:"popstate"});a.Node.DOM_EVENTS.popstate||(a.Node.DOM_EVENTS.popstate=1);a.HistoryHTML5=c;if(!0===h||!1!==h&&d.html5)a.History=c},"3.5.0",{optional:["json"],requires:["event-base","history-base","node-base"]});

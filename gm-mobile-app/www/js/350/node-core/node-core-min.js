YUI.add("node-core",function(c){var k=Array.prototype.slice,g=c.DOM,d=function(a){if(!this.getDOMNode)return new d(a);if("string"==typeof a&&(a=d._fromString(a),!a))return null;var b=9!==a.nodeType?a.uniqueID:a._yuid;b&&d._instances[b]&&d._instances[b]._node!==a&&(a._yuid=null);(b=b||c.stamp(a))||(b=c.guid());this._yuid=b;this._stateProxy=this._node=a;this._initPlugins&&this._initPlugins()},i=function(a){var b=null;a&&(b="string"==typeof a?function(b){return c.Selector.test(b,a)}:function(b){return a(c.one(b))});
return b};d.ATTRS={};d.DOM_EVENTS={};d._fromString=function(a){a&&(a=0===a.indexOf("doc")?c.config.doc:0===a.indexOf("win")?c.config.win:c.Selector.query(a,null,!0));return a||null};d.NAME="node";d.re_aria=/^(?:role$|aria-)/;d.SHOW_TRANSITION="fadeIn";d.HIDE_TRANSITION="fadeOut";d._instances={};d.getDOMNode=function(a){return a?a.nodeType?a:a._node||null:null};d.scrubVal=function(a,b){if(a){if("object"==typeof a||"function"==typeof a)if("nodeType"in a||g.isWindow(a))a=c.one(a);else if(a.item&&!a._nodes||
a[0]&&a[0].nodeType)a=c.all(a)}else"undefined"===typeof a?a=b:null===a&&(a=null);return a};d.addMethod=function(a,b){a&&b&&"function"==typeof b&&(d.prototype[a]=function(){var a=k.call(arguments);a[0]&&a[0]._node&&(a[0]=a[0]._node);a[1]&&a[1]._node&&(a[1]=a[1]._node);a.unshift(this._node);(a=b.apply(this,a))&&(a=d.scrubVal(a,this));"undefined"!=typeof a||(a=this);return a})};d.importMethod=function(a,b,e){"string"==typeof b?d.addMethod(e||b,a[b],a):c.Array.each(b,function(b){d.importMethod(a,b)})};
d.one=function(a){var b=null,e;if(a){if("string"==typeof a){if(a=d._fromString(a),!a)return null}else if(a.getDOMNode)return a;if(a.nodeType||c.DOM.isWindow(a))if(b=a.uniqueID&&9!==a.nodeType?a.uniqueID:a._yuid,e=(b=d._instances[b])?b._node:null,!b||e&&a!==e)b=new d(a),11!=a.nodeType&&(d._instances[b._yuid]=b)}return b};d.DEFAULT_SETTER=function(a,b){var e=this._stateProxy;-1<a.indexOf(".")?(a=a.split("."),c.Object.setValue(e,a,b)):"undefined"!=typeof e[a]&&(e[a]=b);return b};d.DEFAULT_GETTER=function(a){var b=
this._stateProxy,e;a.indexOf&&-1<a.indexOf(".")?e=c.Object.getValue(b,a.split(".")):"undefined"!=typeof b[a]&&(e=b[a]);return e};c.mix(d.prototype,{DATA_PREFIX:"data-",toString:function(){var a=this._yuid+": not bound to a node",b=this._node,e,c;b&&(e=(a=b.attributes)&&a.id?b.getAttribute("id"):null,c=a&&a.className?b.getAttribute("className"):null,a=b.nodeName,e&&(a+="#"+e),c&&(a+="."+c.replace(" ",".")),a+=" "+this._yuid);return a},get:function(a){(a=this._getAttr?this._getAttr(a):this._get(a))?
a=d.scrubVal(a,this):null===a&&(a=null);return a},_get:function(a){var b=d.ATTRS[a];return b&&b.getter?b.getter.call(this):d.re_aria.test(a)?this._node.getAttribute(a,2):d.DEFAULT_GETTER.apply(this,arguments)},set:function(a,b){var e=d.ATTRS[a];this._setAttr?this._setAttr.apply(this,arguments):e&&e.setter?e.setter.call(this,b,a):d.re_aria.test(a)?this._node.setAttribute(a,b):d.DEFAULT_SETTER.apply(this,arguments);return this},setAttrs:function(a){this._setAttrs?this._setAttrs(a):c.Object.each(a,function(a,
e){this.set(e,a)},this);return this},getAttrs:function(a){var b={};this._getAttrs?this._getAttrs(a):c.Array.each(a,function(a){b[a]=this.get(a)},this);return b},compareTo:function(a){var b=this._node;a&&a._node&&(a=a._node);return b===a},inDoc:function(a){var b=this._node,a=a?a._node||a:b.ownerDocument;if(a.documentElement)return g.contains(a.documentElement,b)},getById:function(a){var b=this._node;return a=(a=g.byId(a,b.ownerDocument))&&g.contains(b,a)?c.one(a):null},ancestor:function(a,b,e){if(2===
arguments.length&&("string"==typeof b||"function"==typeof b))e=b;return c.one(g.ancestor(this._node,i(a),b,i(e)))},ancestors:function(a,b,e){if(2===arguments.length&&("string"==typeof b||"function"==typeof b))e=b;return c.all(g.ancestors(this._node,i(a),b,i(e)))},previous:function(a,b){return c.one(g.elementByAxis(this._node,"previousSibling",i(a),b))},next:function(a,b){return c.one(g.elementByAxis(this._node,"nextSibling",i(a),b))},siblings:function(a){return c.all(g.siblings(this._node,i(a)))},
one:function(a){return c.one(c.Selector.query(a,this._node,!0))},all:function(a){var b=c.all(c.Selector.query(a,this._node));b._query=a;b._queryRoot=this._node;return b},test:function(a){return c.Selector.test(this._node,a)},remove:function(a){var b=this._node;b&&b.parentNode&&b.parentNode.removeChild(b);a&&this.destroy();return this},replace:function(a){var b=this._node;"string"==typeof a&&(a=d.create(a));b.parentNode.replaceChild(d.getDOMNode(a),b);return this},replaceChild:function(a,b){"string"==
typeof a&&(a=g.create(a));return c.one(this._node.replaceChild(d.getDOMNode(a),d.getDOMNode(b)))},destroy:function(a){var b=c.config.doc.uniqueID?"uniqueID":"_yuid",e;this.purge();this.unplug&&this.unplug();this.clearData();a&&c.NodeList.each(this.all("*"),function(a){(e=d._instances[a[b]])&&e.destroy()});this._stateProxy=this._node=null;delete d._instances[this._yuid]},invoke:function(a,b,e,c,j,h){var f=this._node;b&&b._node&&(b=b._node);e&&e._node&&(e=e._node);a=f[a](b,e,c,j,h);return d.scrubVal(a,
this)},swap:c.config.doc.documentElement.swapNode?function(a){this._node.swapNode(d.getDOMNode(a))}:function(a){var a=d.getDOMNode(a),b=this._node,e=a.parentNode,c=a.nextSibling;c===b?e.insertBefore(b,a):a===b.nextSibling?e.insertBefore(a,b):(b.parentNode.replaceChild(a,b),g.addHTML(e,b,c));return this},hasMethod:function(a){var b=this._node;return!(!b||!(a in b&&"unknown"!=typeof b[a]&&("function"==typeof b[a]||1===(""+b[a]).indexOf("function"))))},isFragment:function(){return 11===this.get("nodeType")},
empty:function(){this.get("childNodes").remove().destroy(!0);return this},getDOMNode:function(){return this._node}},!0);c.Node=d;c.one=d.one;var f=function(a){var b=[];a&&("string"===typeof a?(this._query=a,a=c.Selector.query(a)):a.nodeType||g.isWindow(a)?a=[a]:a._node?a=[a._node]:a[0]&&a[0]._node?(c.Array.each(a,function(a){a._node&&b.push(a._node)}),a=b):a=c.Array(a,0,!0));this._nodes=a||[]};f.NAME="NodeList";f.getDOMNodes=function(a){return a&&a._nodes?a._nodes:a};f.each=function(a,b,e){var d=
a._nodes;d&&d.length&&c.Array.each(d,b,e||a)};f.addMethod=function(a,b,e){a&&b&&(f.prototype[a]=function(){var a=[],d=arguments;c.Array.each(this._nodes,function(h){var g=c.Node._instances[h[h.uniqueID&&9!==h.nodeType?"uniqueID":"_yuid"]];g||(g=f._getTempNode(h));h=b.apply(e||g,d);void 0!==h&&h!==g&&(a[a.length]=h)});return a.length?a:this})};f.importMethod=function(a,b){"string"===typeof b?f.addMethod(b,a[b]):c.Array.each(b,function(b){f.importMethod(a,b)})};f._getTempNode=function(a){var b=f._tempNode;
b||(b=c.Node.create("<div></div>"),f._tempNode=b);b._node=a;b._stateProxy=a;return b};c.mix(f.prototype,{_invoke:function(a,b,c){var d=c?[]:this;this.each(function(f){f=f[a].apply(f,b);c&&d.push(f)});return d},item:function(a){return c.one((this._nodes||[])[a])},each:function(a,b){var e=this;c.Array.each(this._nodes,function(d,f){d=c.one(d);return a.call(b||d,d,f,e)});return e},batch:function(a,b){var e=this;c.Array.each(this._nodes,function(d,g){var h=c.Node._instances[d._yuid];h||(h=f._getTempNode(d));
return a.call(b||h,h,g,e)});return e},some:function(a,b){var e=this;return c.Array.some(this._nodes,function(d,f){d=c.one(d);b=b||d;return a.call(b,d,f,e)})},toFrag:function(){return c.one(c.DOM._nl2frag(this._nodes))},indexOf:function(a){return c.Array.indexOf(this._nodes,c.Node.getDOMNode(a))},filter:function(a){return c.all(c.Selector.filter(this._nodes,a))},modulus:function(a,b){var b=b||0,e=[];f.each(this,function(c,d){d%a===b&&e.push(c)});return c.all(e)},odd:function(){return this.modulus(2,
1)},even:function(){return this.modulus(2)},destructor:function(){},refresh:function(){var a=this._nodes,b=this._query,e=this._queryRoot;b&&(!e&&a&&a[0]&&a[0].ownerDocument&&(e=a[0].ownerDocument),this._nodes=c.Selector.query(b,e));return this},size:function(){return this._nodes.length},isEmpty:function(){return 1>this._nodes.length},toString:function(){var a="",b=this._yuid+": not bound to any nodes",c=this._nodes,d;c&&c[0]&&(d=c[0],a+=d.nodeName,d.id&&(a+="#"+d.id),d.className&&(a+="."+d.className.replace(" ",
".")),1<c.length&&(a+="...["+c.length+" items]"));return a||b},getDOMNodes:function(){return this._nodes}},!0);f.importMethod(c.Node.prototype,["destroy","empty","remove","set"]);f.prototype.get=function(a){var b=[],d=this._nodes,g=!1,j=f._getTempNode,h,i;d[0]&&(h=c.Node._instances[d[0]._yuid]||j(d[0]),(i=h._get(a))&&i.nodeType&&(g=!0));c.Array.each(d,function(d){(h=c.Node._instances[d._yuid])||(h=j(d));i=h._get(a);g||(i=c.Node.scrubVal(i,h));b.push(i)});return g?c.all(b):b};c.NodeList=f;c.all=function(a){return new f(a)};
c.Node.all=c.all;var l=c.NodeList,m=Array.prototype;c.Object.each({concat:1,pop:0,push:0,shift:0,slice:1,splice:1,unshift:0},function(a,b){l.prototype[b]=function(){for(var d=[],f=0,g;"undefined"!=typeof(g=arguments[f++]);)d.push(g._node||g._nodes||g);d=m[b].apply(this._nodes,d);return d=a?c.all(d):c.Node.scrubVal(d)}});c.Array.each("removeChild,hasChildNodes,cloneNode,hasAttribute,scrollIntoView,getElementsByTagName,focus,blur,submit,reset,select,createCaption".split(","),function(a){c.Node.prototype[a]=
function(b,c,d){return this.invoke(a,b,c,d)}});c.Node.prototype.removeAttribute=function(a){var b=this._node;b&&b.removeAttribute(a);return this};c.Node.importMethod(c.DOM,"contains,setAttribute,getAttribute,wrap,unwrap,generateID".split(","));c.NodeList.importMethod(c.Node.prototype,"getAttribute,setAttribute,removeAttribute,unwrap,wrap,generateID".split(","))},"3.5.0",{requires:["dom-core","selector"]});

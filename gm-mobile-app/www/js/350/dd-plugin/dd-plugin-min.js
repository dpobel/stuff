YUI.add("dd-plugin",function(c){var d=function(a){c.Widget&&a.host instanceof c.Widget?(a.node=a.host.get("boundingBox"),a.widget=a.host):(a.node=a.host,a.widget=!1);d.superclass.constructor.call(this,a)};d.NAME="dd-plugin";d.NS="dd";c.extend(d,c.DD.Drag,{_widgetHandles:null,_widget:void 0,_stoppedPosition:void 0,_usesWidgetPosition:function(a){var b=!1;a&&(b=a.hasImpl&&a.hasImpl(c.WidgetPosition)?!0:!1);return b},_checkEvents:function(){this._widget&&(this.proxy?0<this._widgetHandles.length&&this._removeWidgetListeners():
0===this._widgetHandles.length&&this._attachWidgetListeners())},_removeWidgetListeners:function(){c.Array.each(this._widgetHandles,function(a){a.detach()});this._widgetHandles=[]},_attachWidgetListeners:function(){this._usesWidgetPosition(this._widget)&&(this._widgetHandles.push(this.on("drag:drag",this._setWidgetCoords)),this._widgetHandles.push(this.on("drag:end",this._updateStopPosition)))},initializer:function(a){this._widgetHandles=[];this._widget=a.widget;this.on("drag:start",this._checkEvents);
this._attachWidgetListeners()},_setWidgetCoords:function(a){var b=this._stoppedPosition||a.target.nodeXY,a=a.target.realXY,b=[a[0]-b[0],a[1]-b[1]];0!==b[0]&&0!==b[1]?this._widget.set("xy",a):0===b[0]?this._widget.set("y",a[1]):0===b[1]&&this._widget.set("x",a[0])},_updateStopPosition:function(a){this._stoppedPosition=a.target.realXY}});c.namespace("Plugin");c.Plugin.Drag=d},"3.5.0",{skinnable:!1,optional:["dd-constrain","dd-proxy"],requires:["dd-drag"]});

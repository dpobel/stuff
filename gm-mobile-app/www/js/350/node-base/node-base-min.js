YUI.add("node-base",function(b){var i=["hasClass","addClass","removeClass","replaceClass","toggleClass"];b.Node.importMethod(b.DOM,i);b.NodeList.importMethod(b.Node.prototype,i);var e=b.Node,f=b.DOM;e.create=function(a,c){c&&c._node&&(c=c._node);return b.one(f.create(a,c))};b.mix(e.prototype,{create:e.create,insert:function(a,b){this._insert(a,b);return this},_insert:function(a,b){var d=this._node,g=null;"number"==typeof b?b=this._node.childNodes[b]:b&&b._node&&(b=b._node);a&&"string"!=typeof a&&
(a=a._node||a._nodes||a);return g=f.addHTML(d,a,b)},prepend:function(a){return this.insert(a,0)},append:function(a){return this.insert(a,null)},appendChild:function(a){return e.scrubVal(this._insert(a))},insertBefore:function(a,c){return b.Node.scrubVal(this._insert(a,c))},appendTo:function(a){b.one(a).append(this);return this},setContent:function(a){this._insert(a,"replace");return this},getContent:function(){return this.get("innerHTML")}});b.Node.prototype.setHTML=b.Node.prototype.setContent;b.Node.prototype.getHTML=
b.Node.prototype.getContent;b.NodeList.importMethod(b.Node.prototype,"append,insert,appendChild,insertBefore,prepend,setContent,getContent,setHTML,getHTML".split(","));e=b.Node;f=b.DOM;e.ATTRS={text:{getter:function(){return f.getText(this._node)},setter:function(a){f.setText(this._node,a);return a}},"for":{getter:function(){return f.getAttribute(this._node,"for")},setter:function(a){f.setAttribute(this._node,"for",a);return a}},options:{getter:function(){return this._node.getElementsByTagName("option")}},
children:{getter:function(){var a=this._node,c=a.children,d,g;if(!c){a=a.childNodes;c=[];d=0;for(g=a.length;d<g;++d)a[d].tagName&&(c[c.length]=a[d])}return b.all(c)}},value:{getter:function(){return f.getValue(this._node)},setter:function(a){f.setValue(this._node,a);return a}}};b.Node.importMethod(b.DOM,["setAttribute","getAttribute"]);e=b.Node;i=b.NodeList;e.DOM_EVENTS={abort:1,beforeunload:1,blur:1,change:1,click:1,close:1,command:1,contextmenu:1,dblclick:1,DOMMouseScroll:1,drag:1,dragstart:1,dragenter:1,
dragover:1,dragleave:1,dragend:1,drop:1,error:1,focus:1,key:1,keydown:1,keypress:1,keyup:1,load:1,message:1,mousedown:1,mouseenter:1,mouseleave:1,mousemove:1,mousemultiwheel:1,mouseout:1,mouseover:1,mouseup:1,mousewheel:1,orientationchange:1,reset:1,resize:1,select:1,selectstart:1,submit:1,scroll:1,textInput:1,unload:1};b.mix(e.DOM_EVENTS,b.Env.evt.plugins);b.augment(e,b.EventTarget);b.mix(e.prototype,{purge:function(a,c){b.Event.purgeElement(this._node,a,c);return this}});b.mix(b.NodeList.prototype,
{_prepEvtArgs:function(a,c,d){var g=b.Array(arguments,0,!0);2>g.length?g[2]=this._nodes:g.splice(2,0,this._nodes);g[3]=d||this;return g},on:function(a,c,d){return b.on.apply(b,this._prepEvtArgs.apply(this,arguments))},once:function(a,c,d){return b.once.apply(b,this._prepEvtArgs.apply(this,arguments))},after:function(a,c,d){return b.after.apply(b,this._prepEvtArgs.apply(this,arguments))},onceAfter:function(a,c,d){return b.onceAfter.apply(b,this._prepEvtArgs.apply(this,arguments))}});i.importMethod(b.Node.prototype,
["detach","detachAll"]);b.mix(b.Node.ATTRS,{offsetHeight:{setter:function(a){b.DOM.setHeight(this._node,a);return a},getter:function(){return this._node.offsetHeight}},offsetWidth:{setter:function(a){b.DOM.setWidth(this._node,a);return a},getter:function(){return this._node.offsetWidth}}});b.mix(b.Node.prototype,{sizeTo:function(a,c){var d;2>arguments.length&&(d=b.one(a),a=d.get("offsetWidth"),c=d.get("offsetHeight"));this.setAttrs({offsetWidth:a,offsetHeight:c})}});e=b.Node;b.mix(e.prototype,{show:function(a){a=
arguments[arguments.length-1];this.toggleView(!0,a);return this},_show:function(){this.setStyle("display","")},_isHidden:function(){return"none"===b.DOM.getStyle(this._node,"display")},toggleView:function(a,b){this._toggleView.apply(this,arguments);return this},_toggleView:function(a,b){b=arguments[arguments.length-1];"boolean"!=typeof a&&(a=this._isHidden()?1:0);a?this._show():this._hide();"function"==typeof b&&b.call(this);return this},hide:function(a){a=arguments[arguments.length-1];this.toggleView(!1,
a);return this},_hide:function(){this.setStyle("display","none")}});b.NodeList.importMethod(b.Node.prototype,["show","hide","toggleView"]);b.config.doc.documentElement.hasAttribute||(b.Node.prototype.hasAttribute=function(a){return"value"===a&&""!==this.get("value")?!0:!(!this._node.attributes[a]||!this._node.attributes[a].specified)});b.Node.prototype.focus=function(){try{this._node.focus()}catch(a){}return this};b.Node.ATTRS.type={setter:function(a){if(a==="hidden")try{this._node.type="hidden"}catch(b){this.setStyle("display",
"none");this._inputType="hidden"}else try{this._node.type=a}catch(d){}return a},getter:function(){return this._inputType||this._node.type},_bypassProxy:!0};b.config.doc.createElement("form").elements.nodeType&&(b.Node.ATTRS.elements={getter:function(){return this.all("input, textarea, button, select")}});b.mix(b.Node.prototype,{_initData:function(){if(!("_data"in this))this._data={}},getData:function(a){this._initData();var c=this._data,d=c;if(arguments.length)d=a in c?c[a]:this._getDataAttribute(a);
else if(typeof c=="object"&&c!==null){d={};b.Object.each(c,function(a,b){d[b]=a});d=this._getDataAttributes(d)}return d},_getDataAttributes:function(a){for(var a=a||{},b=0,d=this._node.attributes,e=d.length,f=this.DATA_PREFIX,i=f.length,h;b<e;){h=d[b].name;if(h.indexOf(f)===0){h=h.substr(i);h in a||(a[h]=this._getDataAttribute(h))}b=b+1}return a},_getDataAttribute:function(a){var a=this.DATA_PREFIX+a,b=this._node.attributes;return b&&b[a]&&b[a].value},setData:function(a,b){this._initData();arguments.length>
1?this._data[a]=b:this._data=a;return this},clearData:function(a){"_data"in this&&(typeof a!="undefined"?delete this._data[a]:delete this._data);return this}});b.mix(b.NodeList.prototype,{getData:function(a){return this._invoke("getData",arguments.length?[a]:[],true)},setData:function(a,b){return this._invoke("setData",arguments.length>1?[a,b]:[a])},clearData:function(a){return this._invoke("clearData",[a])}})},"3.5.0",{requires:["dom-base","node-core","event-base"]});

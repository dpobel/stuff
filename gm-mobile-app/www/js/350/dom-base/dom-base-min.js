YUI.add("dom-base",function(e){var n=e.config.doc.documentElement,f=e.DOM,i=e.Features.add,j=e.Features.test;e.mix(f,{getText:void 0!==n.textContent?function(a){var b="";a&&(b=a.textContent);return b||""}:function(a){var b="";a&&(b=a.innerText||a.nodeValue);return b||""},setText:void 0!==n.textContent?function(a,b){a&&(a.textContent=b)}:function(a,b){"innerText"in a?a.innerText=b:"nodeValue"in a&&(a.nodeValue=b)},CUSTOM_ATTRIBUTES:!n.hasAttribute?{"for":"htmlFor","class":"className"}:{htmlFor:"for",
className:"class"},setAttribute:function(a,b,c,d){a&&b&&a.setAttribute&&(b=f.CUSTOM_ATTRIBUTES[b]||b,a.setAttribute(b,c,d))},getAttribute:function(a,b,c){var d="";a&&b&&a.getAttribute&&(b=f.CUSTOM_ATTRIBUTES[b]||b,d=a.getAttribute(b,void 0!==c?c:2),null===d&&(d=""));return d},VALUE_SETTERS:{},VALUE_GETTERS:{},getValue:function(a){var b="";a&&a.tagName&&(b=(b=f.VALUE_GETTERS[a.tagName.toLowerCase()])?b(a):a.value);""===b&&(b="");return"string"===typeof b?b:""},setValue:function(a,b){var c;a&&a.tagName&&
((c=f.VALUE_SETTERS[a.tagName.toLowerCase()])?c(a,b):a.value=b)},creators:{}});i("value-set","select",{test:function(){var a=e.config.doc.createElement("select");a.innerHTML="<option>1</option><option>2</option>";a.value="2";return a.value&&"2"===a.value}});j("value-set","select")||(f.VALUE_SETTERS.select=function(a,b){for(var c=0,d=a.getElementsByTagName("option"),e;e=d[c++];)if(f.getValue(e)===b){e.selected=!0;break}});e.mix(f.VALUE_GETTERS,{button:function(a){return a.attributes&&a.attributes.value?
a.attributes.value.value:""}});e.mix(f.VALUE_SETTERS,{button:function(a,b){var c=a.attributes.value;if(!c){c=a.ownerDocument.createAttribute("value");a.setAttributeNode(c)}c.value=b}});e.mix(f.VALUE_GETTERS,{option:function(a){var b=a.attributes;return b.value&&b.value.specified?a.value:a.text},select:function(a){var b=a.value,c=a.options;c&&c.length&&!a.multiple&&a.selectedIndex>-1&&(b=f.getValue(c[a.selectedIndex]));return b}});var o,l,m;e.mix(e.DOM,{hasClass:function(a,b){return e.DOM._getRegExp("(?:^|\\s+)"+
b+"(?:\\s+|$)").test(a.className)},addClass:function(a,b){if(!e.DOM.hasClass(a,b))a.className=e.Lang.trim([a.className,b].join(" "))},removeClass:function(a,b){if(b&&l(a,b)){a.className=e.Lang.trim(a.className.replace(e.DOM._getRegExp("(?:^|\\s+)"+b+"(?:\\s+|$)")," "));l(a,b)&&m(a,b)}},replaceClass:function(a,b,c){m(a,b);o(a,c)},toggleClass:function(a,b,c){(c!==void 0?c:!l(a,b))?o(a,b):m(a,b)}});l=e.DOM.hasClass;m=e.DOM.removeClass;o=e.DOM.addClass;var q=/<([a-z]+)/i,f=e.DOM,i=e.Features.add,j=e.Features.test,
g={},p=function(a,b){var c=e.config.doc.createElement("div"),d=true;c.innerHTML=a;if(!c.firstChild||c.firstChild.tagName!==b.toUpperCase())d=false;return d},r=/(?:\/(?:thead|tfoot|tbody|caption|col|colgroup)>)+\s*<tbody/;e.mix(e.DOM,{_fragClones:{},_create:function(a,b,c){var c=c||"div",d=f._fragClones[c],d=d?d.cloneNode(false):f._fragClones[c]=b.createElement(c);d.innerHTML=a;return d},_children:function(a,b){var c=0,d=a.children,e,f;if(d&&d.tags)b?d=a.children.tags(b):e=d.tags("!").length;if(!d||
!d.tags&&b||e){e=d||a.childNodes;for(d=[];f=e[c++];)f.nodeType===1&&(!b||b===f.tagName)&&d.push(f)}return d||[]},create:function(a,b){typeof a==="string"&&(a=e.Lang.trim(a));var b=b||e.config.doc,c=q.exec(a),d=f._create,k=null,i;if(a!=void 0){if(c&&c[1]){c=g[c[1].toLowerCase()];typeof c==="function"?d=c:i=c}d=d(a,b,i).childNodes;if(d.length===1)k=d[0].parentNode.removeChild(d[0]);else if(d[0]&&d[0].className==="yui3-big-dummy")if(d.length===2)k=d[0].nextSibling;else{d[0].parentNode.removeChild(d[0]);
k=f._nl2frag(d,b)}else k=f._nl2frag(d,b)}return k},_nl2frag:function(a,b){var c=null,d,f;if(a&&(a.push||a.item)&&a[0]){b=b||a[0].ownerDocument;c=b.createDocumentFragment();a.item&&(a=e.Array(a,0,true));d=0;for(f=a.length;d<f;d++)c.appendChild(a[d])}return c},addHTML:function(a,b,c){var d=a.parentNode,g=0,i,j=b,h;if(b!=void 0)if(b.nodeType)h=b;else if(typeof b=="string"||typeof b=="number")j=h=f.create(b);else if(b[0]&&b[0].nodeType)for(h=e.config.doc.createDocumentFragment();i=b[g++];)h.appendChild(i);
if(c)if(h&&c.parentNode)c.parentNode.insertBefore(h,c);else switch(c){case "replace":for(;a.firstChild;)a.removeChild(a.firstChild);h&&a.appendChild(h);break;case "before":h&&d.insertBefore(h,a);break;case "after":h&&(a.nextSibling?d.insertBefore(h,a.nextSibling):d.appendChild(h));break;default:h&&a.appendChild(h)}else h&&a.appendChild(h);return j},wrap:function(a,b){var c=b&&b.nodeType?b:e.DOM.create(b),d=c.getElementsByTagName("*");d.length&&(c=d[d.length-1]);a.parentNode&&a.parentNode.replaceChild(c,
a);c.appendChild(a)},unwrap:function(a){var b=a.parentNode,c=b.lastChild,d=a,e;if(b)if(e=b.parentNode){for(a=b.firstChild;a!==c;){d=a.nextSibling;e.insertBefore(a,b);a=d}e.replaceChild(c,b)}else b.removeChild(a)}});i("innerhtml","table",{test:function(){var a=e.config.doc.createElement("table");try{a.innerHTML="<tbody></tbody>"}catch(b){return false}return a.firstChild&&a.firstChild.nodeName==="TBODY"}});i("innerhtml-div","tr",{test:function(){return p("<tr></tr>","tr")}});i("innerhtml-div","script",
{test:function(){return p("<script><\/script>","script")}});j("innerhtml","table")||(g.tbody=function(a,b){var c=f.create("<table>"+a+"</table>",b),d=e.DOM._children(c,"tbody")[0];c.children.length>1&&d&&!r.test(a)&&d.parentNode.removeChild(d);return c});j("innerhtml-div","script")||(g.script=function(a,b){var c=b.createElement("div");c.innerHTML="-"+a;c.removeChild(c.firstChild);return c},g.link=g.style=g.script);j("innerhtml-div","tr")||(e.mix(g,{option:function(a,b){return f.create('<select><option class="yui3-big-dummy" selected></option>'+
a+"</select>",b)},tr:function(a,b){return f.create("<tbody>"+a+"</tbody>",b)},td:function(a,b){return f.create("<tr>"+a+"</tr>",b)},col:function(a,b){return f.create("<colgroup>"+a+"</colgroup>",b)},tbody:"table"}),e.mix(g,{legend:"fieldset",th:g.td,thead:g.tbody,tfoot:g.tbody,caption:g.tbody,colgroup:g.tbody,optgroup:g.option}));f.creators=g;e.mix(e.DOM,{setWidth:function(a,b){e.DOM._setSize(a,"width",b)},setHeight:function(a,b){e.DOM._setSize(a,"height",b)},_setSize:function(a,b,c){var c=c>0?c:
0,d=0;a.style[b]=c+"px";d=b==="height"?a.offsetHeight:a.offsetWidth;if(d>c){c=c-(d-c);c<0&&(c=0);a.style[b]=c+"px"}}})},"3.5.0",{requires:["dom-core"]});

YUI.add("graphics-vml",function(d){function u(){}var t=d.Lang,o=t.isNumber,v=t.isArray,w=d.DOM,x=d.Selector,k=d.config.doc,y=d.AttributeLite,i,p,q,r,m,l,s;u.prototype={_currentX:0,_currentY:0,curveTo:function(a,b,c,f,g,e){var d,h,g=Math.round(g),e=Math.round(e);this._path+=" c "+Math.round(a)+", "+Math.round(b)+", "+Math.round(c)+", "+Math.round(f)+", "+g+", "+e;this._currentX=g;this._currentY=e;d=Math.max(g,Math.max(a,c));h=Math.max(e,Math.max(b,f));a=Math.min(g,Math.min(a,c));b=Math.min(e,Math.min(b,
f));this._trackSize(d,h);this._trackSize(a,b)},quadraticCurveTo:function(a,b,c,f){var g=this._currentX,e=this._currentY,a=g+0.67*(a-g),b=e+0.67*(b-e);this.curveTo(a,b,a+0.34*(c-g),b+0.34*(f-e),c,f)},drawRect:function(a,b,c,f){this.moveTo(a,b);this.lineTo(a+c,b);this.lineTo(a+c,b+f);this.lineTo(a,b+f);this.lineTo(a,b);this._currentX=a;this._currentY=b;return this},drawRoundRect:function(a,b,c,f,g,e){this.moveTo(a,b+e);this.lineTo(a,b+f-e);this.quadraticCurveTo(a,b+f,a+g,b+f);this.lineTo(a+c-g,b+f);
this.quadraticCurveTo(a+c,b+f,a+c,b+f-e);this.lineTo(a+c,b+e);this.quadraticCurveTo(a+c,b,a+c-g,b);this.lineTo(a+g,b);this.quadraticCurveTo(a,b,a,b+e);return this},drawCircle:function(a,b,c){var f,g=2*c;f=23592600;this._drawingComplete=!1;this._trackSize(a+g,b+g);this._path+=" m "+(a+g)+" "+(b+c)+" ae "+(a+c)+" "+(b+c)+" "+c+" "+c+" 0 "+f;return this},drawEllipse:function(a,b,c,f){var g,e=0.5*c,d=0.5*f;g=23592600;this._drawingComplete=!1;this._trackSize(a+c,b+f);this._path+=" m "+(a+c)+" "+(b+d)+
" ae "+(a+e)+" "+(b+d)+" "+e+" "+d+" 0 "+g;return this},drawDiamond:function(a,b,c,f){var g=0.5*c,e=0.5*f;this.moveTo(a+g,b);this.lineTo(a+c,b+e);this.lineTo(a+g,b+f);this.lineTo(a,b+e);this.lineTo(a+g,b);return this},drawWedge:function(a,b,c,f,g,e){var d=2*g,a=Math.round(a),b=Math.round(b),e=e||g,g=Math.round(g),e=Math.round(e);360<Math.abs(f)&&(f=360);this._path+=" m "+a+" "+b+" ae "+a+" "+b+" "+g+" "+e+" "+-65535*c+" "+65536*f;this._trackSize(d,d);this._currentX=a;this._currentY=b;return this},
lineTo:function(a,b,c){var f=arguments,g,e;if("string"===typeof a||"number"===typeof a)f=[[a,b]];e=f.length;this._path||(this._path="");this._path+=" l ";for(g=0;g<e;++g)this._path+=" "+Math.round(f[g][0])+", "+Math.round(f[g][1]),this._trackSize.apply(this,f[g]),this._currentX=f[g][0],this._currentY=f[g][1];return this},moveTo:function(a,b){this._path||(this._path="");this._path+=" m "+Math.round(a)+", "+Math.round(b);this._trackSize(a,b);this._currentX=a;this._currentY=b},_closePath:function(){var a=
this.get("fill"),b=this.get("stroke"),c=this.node,f=this.get("width"),g=this.get("height"),e=this._path,d="";this._fillChangeHandler();this._strokeChangeHandler();e&&(a&&a.color&&(d+=" x"),b&&(d+=" e"));e&&(c.path=e+d);!isNaN(f)&&!isNaN(g)&&(c.coordSize=f+", "+g,c.style.position="absolute",c.style.width=f+"px",c.style.height=g+"px");this._path=e;this._updateTransform()},end:function(){this._closePath()},closePath:function(){this._path+=" x e "},clear:function(){this._top=this._left=this._height=this._width=
this._bottom=this._right=0;this._path=""},_trackSize:function(a,b){a>this._right&&(this._right=a);a<this._left&&(this._left=a);b<this._top&&(this._top=b);b>this._bottom&&(this._bottom=b);this._width=this._right-this._left;this._height=this._bottom-this._top},_left:0,_right:0,_top:0,_bottom:0,_width:0,_height:0};d.VMLDrawing=u;i=function(){this._transforms=[];this.matrix=new d.Matrix;this._normalizedMatrix=new d.Matrix;i.superclass.constructor.apply(this,arguments)};i.NAME="vmlShape";d.extend(i,d.GraphicBase,
d.mix({_type:"shape",init:function(){this.initializer.apply(this,arguments)},initializer:function(a){a=a.graphic;this.createNode();a&&this._setGraphic(a);this._updateHandler()},_setGraphic:function(a){a instanceof d.VMLGraphic||(a=d.one(a),a=new d.VMLGraphic({render:a}),a._appendShape(this));this._graphic=a},createNode:function(){var a,b=this.get("x"),c=this.get("y"),f=this.get("width"),g=this.get("height"),e,d=this.get("visible")?"visible":"hidden",h,i,j;e=this.get("id");a="path"==this._type?"shape":
this._type;i="vml"+a+" yui3-vmlShape yui3-"+this.constructor.NAME;h=this._getStrokeProps();j=this._getFillProps();b="<"+a+'  xmlns="urn:schemas-microsft.com:vml" id="'+e+'" class="'+i+'" style="behavior:url(#default#VML);display:inline-block;position:absolute;left:'+b+"px;top:"+c+"px;width:"+f+"px;height:"+g+"px;visibility:"+d+'"';h&&h.weight&&0<h.weight?(c=h.endcap,d=parseFloat(h.opacity),f=h.joinstyle,g=h.miterlimit,e=h.dashstyle,b+=' stroked="t" strokecolor="'+h.color+'" strokeWeight="'+h.weight+
'px"',h='<stroke class="vmlstroke" xmlns="urn:schemas-microsft.com:vml" on="t" style="behavior:url(#default#VML);display:inline-block;"'+(' opacity="'+d+'"'),c&&(h+=' endcap="'+c+'"'),f&&(h+=' joinstyle="'+f+'"'),g&&(h+=' miterlimit="'+g+'"'),e&&(h+=' dashstyle="'+e+'"'),this._strokeNode=k.createElement(h+"></stroke>"),b+=' stroked="t"'):b+=' stroked="f"';j&&(j.node&&(h=j.node,this._fillNode=k.createElement(h)),j.color&&(b+=' fillcolor="'+j.color+'"'),b+=' filled="'+j.filled+'"');a=k.createElement(b+
">"+("</"+a+">"));this._strokeNode&&a.appendChild(this._strokeNode);this._fillNode&&a.appendChild(this._fillNode);this.node=a;this._fillFlag=this._strokeFlag=!1},addClass:function(a){w.addClass(this.node,a)},removeClass:function(a){w.removeClass(this.node,a)},getXY:function(){var a=this._graphic.getXY(),b=this.get("x"),c=this.get("y");return[a[0]+b,a[1]+c]},setXY:function(a){var b=this._graphic.getXY();this.set("x",a[0]-b[0]);this.set("y",a[1]-b[1])},contains:function(a){return a===d.one(this.node)},
compareTo:function(a){return this.node===a},test:function(a){return x.test(this.node,a)},_getStrokeProps:function(){var a,b=this.get("stroke"),c,f,g="",e=0,d,h;if(b&&b.weight&&0<b.weight){a={};e=b.linecap||"flat";h=b.linejoin||"round";"round"!=e&&"square"!=e&&(e="flat");c=parseFloat(b.opacity);f=b.dashstyle||"none";b.color=b.color||"#000000";b.weight=b.weight||1;b.opacity=o(c)?c:1;a.stroked=!0;a.color=b.color;a.weight=b.weight;a.endcap=e;a.opacity=b.opacity;if(v(f)){g=[];d=f.length;for(e=0;e<d;++e)c=
f[e],g[e]=c/b.weight}"round"==h||"bevel"==h?a.joinstyle=h:(h=parseInt(h,10),o(h)&&(a.miterlimit=Math.max(h,1),a.joinstyle="miter"));a.dashstyle=g}return a},_strokeChangeHandler:function(){if(this._strokeFlag){var a=this.node,b=this.get("stroke"),c,f,d="";c=0;var e,n;if(b&&b.weight&&0<b.weight){e=b.linecap||"flat";n=b.linejoin||"round";"round"!=e&&"square"!=e&&(e="flat");c=parseFloat(b.opacity);f=b.dashstyle||"none";b.color=b.color||"#000000";b.weight=b.weight||1;b.opacity=o(c)?c:1;a.stroked=!0;a.strokeColor=
b.color;a.strokeWeight=b.weight+"px";this._strokeNode||(this._strokeNode=this._createGraphicNode("stroke"),a.appendChild(this._strokeNode));this._strokeNode.endcap=e;this._strokeNode.opacity=b.opacity;if(v(f)){d=[];e=f.length;for(c=0;c<e;++c)a=f[c],d[c]=a/b.weight}"round"==n||"bevel"==n?this._strokeNode.joinstyle=n:(n=parseInt(n,10),o(n)&&(this._strokeNode.miterlimit=Math.max(n,1),this._strokeNode.joinstyle="miter"));this._strokeNode.dashstyle=d;this._strokeNode.on=!0}else this._strokeNode&&(this._strokeNode.on=
!1),a.stroked=!1;this._strokeFlag=!1}},_getFillProps:function(){var a=this.get("fill"),b,c,f,d=!1;if(a){c={};if("radial"==a.type||"linear"==a.type){b=parseFloat(a.opacity);b=o(b)?b:1;d=!0;a=this._getGradientFill(a);b='<fill xmlns="urn:schemas-microsft.com:vml" class="vmlfill" style="behavior:url(#default#VML);display:inline-block;" opacity="'+b+'"';for(f in a)a.hasOwnProperty(f)&&(b+=" "+f+'="'+a[f]+'"');c.node=b+" />"}else a.color&&(b=parseFloat(a.opacity),d=!0,c.color=a.color,o(b)&&(b=Math.max(Math.min(b,
1),0),c.opacity=b,1>b&&(c.node='<fill xmlns="urn:schemas-microsft.com:vml" class="vmlfill" style="behavior:url(#default#VML);display:inline-block;" type="solid" opacity="'+b+'"/>')));c.filled=d}return c},_fillChangeHandler:function(){if(this._fillFlag){var a=this.node,b=this.get("fill"),c,f=!1,d;if(b)if("radial"==b.type||"linear"==b.type)if(f=!0,d=this._getGradientFill(b),this._fillNode)for(c in d)d.hasOwnProperty(c)&&("colors"==c?this._fillNode.colors.value=d[c]:this._fillNode[c]=d[c]);else{b='<fill xmlns="urn:schemas-microsft.com:vml" class="vmlfill" style="behavior:url(#default#VML);display:inline-block;"';
for(c in d)d.hasOwnProperty(c)&&(b+=" "+c+'="'+d[c]+'"');this._fillNode=k.createElement(b+" />");a.appendChild(this._fillNode)}else b.color&&(a.fillcolor=b.color,c=parseFloat(b.opacity),f=!0,o(c)&&1>c?(b.opacity=c,this._fillNode?("solid"!=this._fillNode.getAttribute("type")&&(this._fillNode.type="solid"),this._fillNode.opacity=c):(this._fillNode=k.createElement('<fill xmlns="urn:schemas-microsft.com:vml" class="vmlfill" style="behavior:url(#default#VML);display:inline-block;" type="solid" opacity="'+
c+'"/>'),a.appendChild(this._fillNode))):this._fillNode&&(this._fillNode.opacity=1,this._fillNode.type="solid"));a.filled=f;this._fillFlag=!1}},_updateFillNode:function(a){this._fillNode||(this._fillNode=this._createGraphicNode("fill"),a.appendChild(this._fillNode))},_getGradientFill:function(a){var b={},c=a.type,d=this.get("width"),g=this.get("height"),e,n=a.stops,h=n.length,i,j=0,k="",p=a.cx,q=a.cy,r=a.fx,m=a.fy,l=a.r,a=a.rotation||0;"linear"===c?(a=270>=a?Math.abs(a-270):360>a?270+(360-a):270,
b.type="gradient",b.angle=a):"radial"===c&&(m=2*l*(m-0.5)+q,b.focussize=d*2*l/d/10+"% "+g*2*l/g/10+"%",b.alignshape=!1,b.type="gradientradial",b.focus="100%",b.focusposition=Math.round(100*(2*l*(r-0.5)+p))+"% "+Math.round(100*m)+"%");for(;j<h;++j)e=n[j],i=e.color,c=e.opacity,c=o(c)?c:1,e=e.offset||j/(h-1),e*=2*l,e=Math.round(100*e)+"%",d=0<j?j+1:"",b["opacity"+d]=c+"",k+=", "+e+" "+i;100>parseFloat(e)&&(k+=", 100% "+i);b.colors=k.substr(2);return b},_addTransform:function(a,b){b=d.Array(b);this._transform=
t.trim(this._transform+" "+a+"("+b.join(", ")+")");b.unshift(a);this._transforms.push(b);this.initialized&&this._updateTransform()},_updateTransform:function(){var a=this.node,b,c,f=this.get("x"),g=this.get("y"),e,i=this.matrix,h=this._normalizedMatrix,l=this instanceof d.VMLPath,j=0,m=this._transforms.length;if(this._transforms&&0<this._transforms.length){c=this.get("transformOrigin");l&&h.translate(this._left,this._top);e=c[0]-0.5;c=c[1]-0.5;e=Math.max(-0.5,Math.min(0.5,e));for(c=Math.max(-0.5,
Math.min(0.5,c));j<m;++j)if(b=this._transforms[j].shift())h[b].apply(h,this._transforms[j]),i[b].apply(i,this._transforms[j]);l&&h.translate(-this._left,-this._top);b=h.a+","+h.c+","+h.b+","+h.d+",0,0"}this._graphic.addToRedrawQueue(this);b&&(this._skew||(this._skew=k.createElement('<skew class="vmlskew" xmlns="urn:schemas-microsft.com:vml" on="false" style="behavior:url(#default#VML);display:inline-block;" />'),this.node.appendChild(this._skew)),this._skew.matrix=b,this._skew.on=!0,this._skew.offset=
h.dx+"px, "+h.dy+"px",this._skew.origin=e+", "+c);"path"!=this._type&&(this._transforms=[]);a.style.left=f+"px";a.style.top=g+"px"},_translateX:0,_translateY:0,_transform:"",translate:function(a,b){this._translateX+=a;this._translateY+=b;this._addTransform("translate",arguments)},translateX:function(a){this._translateX+=a;this._addTransform("translateX",arguments)},translateY:function(a){this._translateY+=a;this._addTransform("translateY",arguments)},skew:function(a,b){this._addTransform("skew",arguments)},
skewX:function(a){this._addTransform("skewX",arguments)},skewY:function(a){this._addTransform("skewY",arguments)},rotate:function(a){this._addTransform("rotate",arguments)},scale:function(a,b){this._addTransform("scale",arguments)},on:function(a,b){return d.Node.DOM_EVENTS[a]?d.one("#"+this.get("id")).on(a,b):d.on.apply(this,arguments)},_draw:function(){},_updateHandler:function(){var a=this.node;this._fillChangeHandler();this._strokeChangeHandler();a.style.width=this.get("width")+"px";a.style.height=
this.get("height")+"px";this._draw();this._updateTransform()},_createGraphicNode:function(a){a=a||this._type;return k.createElement("<"+a+' xmlns="urn:schemas-microsft.com:vml" style="behavior:url(#default#VML);display:inline-block;" class="vml'+a+'"/>')},_getDefaultFill:function(){return{type:"solid",cx:0.5,cy:0.5,fx:0.5,fy:0.5,r:0.5}},_getDefaultStroke:function(){return{weight:1,dashstyle:"none",color:"#000",opacity:1}},set:function(){y.prototype.set.apply(this,arguments);this.initialized&&this._updateHandler()},
getBounds:function(){var a=this.get("stroke"),b=this.get("width"),c=this.get("height"),d=this.get("x"),g=this.get("y"),e=0;a&&a.weight&&(e=a.weight);b=d+b+e-(d-e);c=g+c+e-(g-e);return this._normalizedMatrix.getContentRect(b,c,d-e,g-e)},destroy:function(){var a=this.get("graphic");a?a.removeShape(this):this._destroy()},_destroy:function(){this.node&&(this._fillNode&&(this.node.removeChild(this._fillNode),this._fillNode=null),this._strokeNode&&(this.node.removeChild(this._strokeNode),this._strokeNode=
null),d.one(this.node).remove(!0))}},d.VMLDrawing.prototype));i.ATTRS={transformOrigin:{valueFn:function(){return[0.5,0.5]}},transform:{setter:function(a){var b=0,c;this.matrix.init();this._normalizedMatrix.init();this._transforms=this.matrix.getTransformArray(a);for(c=this._transforms.length;b<c;++b);this._transform=a;this.initialized&&this._updateTransform();return a},getter:function(){return this._transform}},x:{value:0},y:{value:0},id:{valueFn:function(){return d.guid()},setter:function(a){var b=
this.node;b&&b.setAttribute("id",a);return a}},width:{value:0},height:{value:0},visible:{value:!0,setter:function(a){var b=this.node;b&&(b.style.visibility=a?"visible":"hidden");return a}},fill:{valueFn:"_getDefaultFill",setter:function(a){var b,c=this.get("fill")||this._getDefaultFill();if(a)for(b in a.hasOwnProperty("color")&&(a.type="solid"),a)a.hasOwnProperty(b)&&(c[b]=a[b]);if(c&&c.color&&(void 0===c.color||"none"==c.color))c.color=null;this._fillFlag=!0;return c}},stroke:{valueFn:"_getDefaultStroke",
setter:function(a){var b,c,d=this.get("stroke")||this._getDefaultStroke();if(a)for(b in a.hasOwnProperty("weight")&&(c=parseInt(a.weight,10),isNaN(c)||(a.weight=c)),a)a.hasOwnProperty(b)&&(d[b]=a[b]);this._strokeFlag=!0;return d}},autoSize:{value:!1},pointerEvents:{value:"visiblePainted"},node:{readOnly:!0,getter:function(){return this.node}},graphic:{readOnly:!0,getter:function(){return this._graphic}}};d.VMLShape=i;q=function(){q.superclass.constructor.apply(this,arguments)};q.NAME="vmlPath";d.extend(q,
d.VMLShape);q.ATTRS=d.merge(d.VMLShape.ATTRS,{width:{getter:function(){return Math.max(this._right-this._left,0)}},height:{getter:function(){return Math.max(this._bottom-this._top,0)}},path:{readOnly:!0,getter:function(){return this._path}}});d.VMLPath=q;r=function(){r.superclass.constructor.apply(this,arguments)};r.NAME="vmlRect";d.extend(r,d.VMLShape,{_type:"rect"});r.ATTRS=d.VMLShape.ATTRS;d.VMLRect=r;m=function(){m.superclass.constructor.apply(this,arguments)};m.NAME="vmlEllipse";d.extend(m,d.VMLShape,
{_type:"oval"});m.ATTRS=d.merge(d.VMLShape.ATTRS,{xRadius:{lazyAdd:!1,getter:function(){var a=this.get("width");return a=Math.round(100*(a/2))/100},setter:function(a){this.set("width",2*a);return a}},yRadius:{lazyAdd:!1,getter:function(){var a=this.get("height");return a=Math.round(100*(a/2))/100},setter:function(a){this.set("height",2*a);return a}}});d.VMLEllipse=m;p=function(a){p.superclass.constructor.apply(this,arguments)};p.NAME="vmlCircle";d.extend(p,i,{_type:"oval"});p.ATTRS=d.merge(i.ATTRS,
{radius:{lazyAdd:!1,value:0},width:{setter:function(a){this.set("radius",a/2);return a},getter:function(){var a=this.get("radius");return a&&0<a?2*a:0}},height:{setter:function(a){this.set("radius",a/2);return a},getter:function(){var a=this.get("radius");return a&&0<a?2*a:0}}});d.VMLCircle=p;s=function(){s.superclass.constructor.apply(this,arguments)};s.NAME="vmlPieSlice";d.extend(s,d.VMLShape,d.mix({_type:"shape",_draw:function(){var a=this.get("cx"),b=this.get("cy"),c=this.get("startAngle"),d=
this.get("arc"),g=this.get("radius");this.clear();this.drawWedge(a,b,c,d,g);this.end()}},d.VMLDrawing.prototype));s.ATTRS=d.mix({cx:{value:0},cy:{value:0},startAngle:{value:0},arc:{value:0},radius:{value:0}},d.VMLShape.ATTRS);d.VMLPieSlice=s;l=function(){l.superclass.constructor.apply(this,arguments)};l.NAME="vmlGraphic";l.ATTRS={render:{},id:{valueFn:function(){return d.guid()},setter:function(a){var b=this._node;b&&b.setAttribute("id",a);return a}},shapes:{readOnly:!0,getter:function(){return this._shapes}},
contentBounds:{readOnly:!0,getter:function(){return this._contentBounds}},node:{readOnly:!0,getter:function(){return this._node}},width:{setter:function(a){this._node&&(this._node.style.width=a+"px");return a}},height:{setter:function(a){this._node&&(this._node.style.height=a+"px");return a}},autoSize:{value:!1},resizeDown:{getter:function(){return this._resizeDown},setter:function(a){this._resizeDown=a;this._node&&this._redraw();return a}},x:{getter:function(){return this._x},setter:function(a){this._x=
a;this._node&&(this._node.style.left=a+"px");return a}},y:{getter:function(){return this._y},setter:function(a){this._y=a;this._node&&(this._node.style.top=a+"px");return a}},autoDraw:{value:!0},visible:{value:!0,setter:function(a){this._toggleVisible(a);return a}}};d.extend(l,d.GraphicBase,{_x:0,_y:0,getXY:function(){var a=d.one(this._node),b;a&&(b=a.getXY());return b},_resizeDown:!1,initializer:function(){var a=this.get("render");this._shapes={};this._contentBounds={left:0,top:0,right:0,bottom:0};
this._node=this._createGraphic();this._node.setAttribute("id",this.get("id"));a&&this.render(a)},render:function(a){var a=d.one(a),b=this.get("width")||parseInt(a.getComputedStyle("width"),10),c=this.get("height")||parseInt(a.getComputedStyle("height"),10),a=a||k.body;a.appendChild(this._node);this.setSize(b,c);this.parentNode=a;this.set("width",b);this.set("height",c);return this},destroy:function(){this.clear();d.one(this._node).remove(!0)},addShape:function(a){a.graphic=this;a=new (this._getShapeClass(a.type))(a);
this._appendShape(a);return a},_appendShape:function(a){var a=a.node,b=this._frag||this._node;this.get("autoDraw")?b.appendChild(a):this._getDocFrag().appendChild(a)},removeShape:function(a){!a instanceof i&&t.isString(a)&&(a=this._shapes[a]);a&&a instanceof i&&(a._destroy(),this._shapes[a.get("id")]=null,delete this._shapes[a.get("id")]);this.get("autoDraw")&&this._redraw()},removeAllShapes:function(){var a=this._shapes,b;for(b in a)a.hasOwnProperty(b)&&a[b].destroy();this._shapes={}},_removeChildren:function(a){if(a.hasChildNodes())for(var b;a.firstChild;)b=
a.firstChild,this._removeChildren(b),a.removeChild(b)},clear:function(){this.removeAllShapes();this._removeChildren(this._node)},_toggleVisible:function(a){var b,c=this._shapes,d=a?"visible":"hidden";if(c)for(b in c)c.hasOwnProperty(b)&&c[b].set("visible",a);this._node.style.visibility=d},setSize:function(a,b){a=Math.round(a);b=Math.round(b);this._node.style.width=a+"px";this._node.style.height=b+"px";this._node.coordSize=a+" "+b},setPosition:function(a,b){a=Math.round(a);b=Math.round(b);this._node.style.left=
a+"px";this._node.style.top=b+"px"},_createGraphic:function(){var a=k.createElement('<group xmlns="urn:schemas-microsft.com:vml" style="behavior:url(#default#VML);display:block;zoom:1;" />');a.style.display="block";a.style.position="absolute";return a},_createGraphicNode:function(a){return k.createElement("<"+a+' xmlns="urn:schemas-microsft.com:vml" style="behavior:url(#default#VML);display:inline-block;zoom:1;" />')},getShapeById:function(a){return this._shapes[a]},_getShapeClass:function(a){var b=
this._shapeClass[a];return b?b:a},_shapeClass:{circle:d.VMLCircle,rect:d.VMLRect,path:d.VMLPath,ellipse:d.VMLEllipse,pieslice:d.VMLPieSlice},batch:function(a){var b=this.get("autoDraw");this.set("autoDraw",!1);a.apply();this._redraw();this.set("autoDraw",b)},_getDocFrag:function(){this._frag||(this._frag=k.createDocumentFragment());return this._frag},addToRedrawQueue:function(a){var b;this._shapes[a.get("id")]=a;this._resizeDown||(a=a.getBounds(),b=this._contentBounds,b.left=b.left<a.left?b.left:
a.left,b.top=b.top<a.top?b.top:a.top,b.right=b.right>a.right?b.right:a.right,b.bottom=b.bottom>a.bottom?b.bottom:a.bottom,b.width=b.right-b.left,b.height=b.bottom-b.top,this._contentBounds=b);this.get("autoDraw")&&this._redraw()},_redraw:function(){var a=this._resizeDown?this._getUpdatedContentBounds():this._contentBounds;this.get("autoSize")&&this.setSize(a.right,a.bottom);this._frag&&(this._node.appendChild(this._frag),this._frag=null)},_getUpdatedContentBounds:function(){var a,b,c=this._shapes,
d={left:0,top:0,right:0,bottom:0};for(b in c)c.hasOwnProperty(b)&&(a=c[b],a=a.getBounds(),d.left=Math.min(d.left,a.left),d.top=Math.min(d.top,a.top),d.right=Math.max(d.right,a.right),d.bottom=Math.max(d.bottom,a.bottom));d.width=d.right-d.left;d.height=d.bottom-d.top;return this._contentBounds=d}});d.VMLGraphic=l},"3.5.0",{skinnable:!1,requires:["graphics"]});

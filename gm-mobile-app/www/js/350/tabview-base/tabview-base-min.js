YUI.add("tabview-base",function(e){var a=e.ClassNameManager.getClassName,h={},d={tabview:a("tabview"),tabviewPanel:a("tabview","panel"),tabviewList:a("tabview","list"),tab:a("tab"),tabLabel:a("tab","label"),tabPanel:a("tab","panel"),selectedTab:a("tab","selected"),selectedPanel:a("tab","panel","selected")},c={tabview:"."+d.tabview,tabviewList:"> ul",tab:"> ul > li",tabLabel:"> ul > li > a ",tabviewPanel:"> div",tabPanel:"> div > div",selectedTab:"> ul > ."+d.selectedTab,selectedPanel:"> div ."+d.selectedPanel},
a=function(b){this.init.apply(this,arguments)};a.NAME="tabviewBase";a._queries=c;a._classNames=d;e.mix(a.prototype,{init:function(b){b=b||h;this._node=b.host||e.one(b.node);this.refresh()},initClassNames:function(b){e.Object.each(c,function(a,c){if(d[c]){var f=this.all(a);void 0!==b&&(f=f.item(b));f&&f.addClass(d[c])}},this._node);this._node.addClass(d.tabview)},_select:function(b){var a=this._node,e=a.one(c.selectedTab),f=a.one(c.selectedPanel),g=a.all(c.tab).item(b),b=a.all(c.tabPanel).item(b);
e&&e.removeClass(d.selectedTab);f&&f.removeClass(d.selectedPanel);g&&g.addClass(d.selectedTab);b&&b.addClass(d.selectedPanel)},initState:function(){var b=this._node,a=b.one(c.selectedTab);this._select(a?b.all(c.tab).indexOf(a):0)},_scrubTextNodes:function(){this._node.one(c.tabviewList).get("childNodes").each(function(a){3===a.get("nodeType")&&a.remove()})},refresh:function(){this._scrubTextNodes();this.initClassNames();this.initState();this.initEvents()},tabEventName:"click",initEvents:function(){this._node.delegate(this.tabEventName,
this.onTabEvent,c.tab,this)},onTabEvent:function(a){a.preventDefault();this._select(this._node.all(c.tab).indexOf(a.currentTarget))},destroy:function(){this._node.detach(this.tabEventName)}});e.TabviewBase=a},"3.5.0",{requires:["node-event-delegate","classnamemanager","skin-sam-tabview"]});

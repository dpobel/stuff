YUI.add("profiler",function(h){function i(a){d[a]={calls:0,max:0,min:0,avg:0,points:[]};return d[a]}function j(a,c){var b=d[a];b||(b=i(a));b.calls++;b.points.push(c);1<b.calls?(b.avg=(b.avg*(b.calls-1)+c)/b.calls,b.min=Math.min(b.min,c),b.max=Math.max(b.max,c)):(b.avg=c,b.min=c,b.max=c)}var e={},d={},f={},g=h.Lang;h.Profiler={clear:function(a){g.isString(a)?(delete d[a],delete f[a]):(d={},f={})},getOriginal:function(a){return e[a]},instrument:function(a,c){var b=function(){var b=new Date,e=c.apply(this,
arguments);j(a,new Date-b);return e};h.mix(b,c);b.__yuiProfiled=!0;b.prototype=c.prototype;e[a]=c;e[a].__yuiFuncName=a;i(a);return b},pause:function(a){var c=new Date;if((a=f[a])&&0==a.state)a.total+=c-a.start,a.start=0,a.state=2},start:function(a){if(e[a])throw Error("Cannot use '"+a+"' for profiling through start(), name is already in use.");d[a]||i(a);f[a]||(f[a]={state:1,start:0,total:0});1==f[a].state&&(f[a].state=0,f[a].start=new Date)},stop:function(a){var c=new Date,b=f[a];b&&(0==b.state?
j(a,b.total+(c-b.start)):2==b.state&&j(a,b.total),b.start=0,b.total=0,b.state=1)},getAverage:function(a){return d[a].avg},getCallCount:function(a){return d[a].calls},getMax:function(a){return d[a].max},getMin:function(a){return d[a].min},getFunctionReport:function(a){return d[a]},getReport:function(a){return d[a]},getFullReport:function(a){a=a||function(){return!0};if(g.isFunction(a)){var c={},b;for(b in d)a(d[b])&&(c[b]=d[b]);return c}},registerConstructor:function(a,c){this.registerFunction(a,c,
!0)},registerFunction:function(a,c,b){var k=-1<a.indexOf(".")?a.substring(a.lastIndexOf(".")+1):a,d,f;g.isObject(c)||(c=eval(a.substring(0,a.lastIndexOf("."))));d=c[k];f=d.prototype;g.isFunction(d)&&!d.__yuiProfiled&&(c[k]=this.instrument(a,d),e[a].__yuiOwner=c,e[a].__yuiFuncName=k,b&&this.registerObject(a+".prototype",f))},registerObject:function(a,c,b){c=g.isObject(c)?c:eval(a);e[a]=c;for(var d in c)"function"==typeof c[d]?"constructor"!=d&&"superclass"!=d&&this.registerFunction(a+"."+d,c):"object"==
typeof c[d]&&b&&this.registerObject(a+"."+d,c[d],b)},unregisterConstructor:function(a){g.isFunction(e[a])&&this.unregisterFunction(a,!0)},unregisterFunction:function(a,c){if(g.isFunction(e[a])){c&&this.unregisterObject(a+".prototype",e[a].prototype);var b=e[a].__yuiOwner,d=e[a].__yuiFuncName;delete e[a].__yuiOwner;delete e[a].__yuiFuncName;b[d]=e[a];delete e[a]}},unregisterObject:function(a,c){if(g.isObject(e[a])){var b=e[a],d;for(d in b)"function"==typeof b[d]?this.unregisterFunction(a+"."+d):"object"==
typeof b[d]&&c&&this.unregisterObject(a+"."+d,c);delete e[a]}}}},"3.5.0",{requires:["yui-base"]});
